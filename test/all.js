function check(condition, msg) {
    var log = [];
    for (var _i = 2; _i < arguments.length; _i++) {
        log[_i - 2] = arguments[_i];
    }
    if (!condition) {
        console.group(msg);
        console.error.apply(console, log);
        ok(condition, msg);
        console.groupEnd();
    }
    else {
        ok(condition, msg);
    }
}

/// <reference path="../typings/tsd.d.ts" />
/// <reference path="../src/ts/fromJS.d.ts" />
/// <reference path="../src/ts/ast.ts" />
/// <reference path="../src/ts/symbols.ts" />
/// <reference path="../src/ts/util.ts" />
/// <reference path="../src/ts/semantics.ts" />
var ClassSymbol = eiffel.symbols.ClassSymbol;
var TypeInstance = eiffel.symbols.TypeInstance;
QUnit.module("TypeInstance Tests");
test("different Generic Derivation works", function () {
    var a = new ClassSymbol("A", null);
    var b = new ClassSymbol("B", null);
    var c = new ClassSymbol("C", null);
    var g1 = new ClassSymbol("G1", null);
    var g2 = new ClassSymbol("G2", null);
    var t1_1 = new TypeInstance(a, [], a);
    var t1_2 = new TypeInstance(a, [], a);
    ok(t1_1.equals(t1_2));
    ok(!t1_1.differentGenericDerivationThan(t1_2));
    var t2_1 = new TypeInstance(g1, [new TypeInstance(a, [], a)], a);
    var t2_2 = new TypeInstance(g1, [new TypeInstance(a, [], a)], a);
    var t3_1 = new TypeInstance(g2, [t2_1, t1_1], a);
    var t3_1 = new TypeInstance(g2, [t2_1, t1_1], a);
});

/// <reference path="../typings/tsd.d.ts" />
/// <reference path="../src/ts/fromJS.d.ts" />
/// <reference path="../src/ts/ast.ts" />
/// <reference path="../src/ts/symbols.ts" />
/// <reference path="../src/ts/util.ts" />
/// <reference path="../src/ts/semantics.ts" />
var caseIgnoreEquals = eiffel.util.caseIgnoreEquals;
var cartesianProduct = eiffel.util.cartesianProduct;
var pairs = eiffel.util.pairs;
QUnit.module("Util Tests");
test("pairs", function () {
    var ps = pairs([1, 2, 3]);
    var actual = ps.length;
    check(actual === 3, "Expected length 3, actual: " + actual, ps);
});
test("cartesian", function () {
    var ps = cartesianProduct([1, 2, 3]);
    var actual = ps.length;
    check(actual === 3, "Expected length 3, actual: " + actual, ps);
    check(ps[0].length === 1, "Expected inner length to be 1, actual: " + ps[0].length, ps[0]);
});
test("cartesian with multiple args", function () {
    var ps = cartesianProduct([1, 2, 3], [1, 2, 3]);
    var actual = ps.length;
    check(actual === 3 * 3, "Expected length 9, actual: " + actual, ps);
    check(ps[0].length === 2, "Expected inner length to be 2, actual: " + ps[0].length, ps[0]);
});

/// <reference path="../typings/tsd.d.ts" />
/// <reference path="../src/ts/fromJS.d.ts" />
/// <reference path="../src/ts/ast.ts" />
/// <reference path="../src/ts/symbols.ts" />
/// <reference path="../src/ts/util.ts" />
/// <reference path="../src/ts/semantics.ts" />
function testAll() {
    function fail(message) {
        ok(false, message);
    }
    QUnit.module("Grunt");
    test("generated files exist", function () {
        ok(okTests);
    });
    QUnit.module("Parser");
    test("the base function exists", function () {
        ok(eiffel);
    });
    test("parser exists", function () {
        ok(eiffel.parser);
    });
    test("parser.parse exists", function () {
        ok(eiffel.parser.parse);
    });
    QUnit.module("OKTests");
    okTests.forEach(function (file__content) {
        test("Parsing " + file__content.filename, function () {
            try {
                eiffel.parser.parse(file__content.content);
                ok(true);
            }
            catch (e) {
                fail(e.message + "\nLine: " + e.line + "\nColumn: " + e.column);
            }
        });
    });
    var astTests = [
        [
            "True parses",
            "Expression",
            "True",
            {
                value: true,
                start: { offset: 0 },
                end: {},
            },
        ],
        [
            "False parses",
            "Expression",
            "False",
            {
                __instanceof: eiffel.ast.BooleanLiteral,
                value: false,
                start: {},
                end: { offset: 5 },
            },
        ],
        [
            "1 parses",
            "Expression",
            "1",
            {
                value: 1,
                start: {},
                end: {},
            },
        ],
        [
            "'1' parses",
            "Expression",
            "'1'",
            {
                value: "1",
                start: {},
                end: {},
            },
        ],
        [
            "%n parses",
            "Expression",
            '"%n%""',
            {
                value: '%n%"',
                start: {},
                end: {},
            },
        ],
        [
            "Void parses",
            "Expression",
            'Void',
            {
                start: {},
                end: {},
            },
        ],
        [
            "Verbatim string",
            "Expression",
            '"{\ntest\ntest\n}"',
            {
                start: {},
                end: {},
            },
        ],
    ];
    function compareAst(expected, actual) {
        var noDifferences = true;
        var differences = [];
        function compare(expected, actual, query) {
            function diff() {
                var params = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    params[_i - 0] = arguments[_i];
                }
                noDifferences = false;
                differences.push({ query: query, params: params });
            }
            if (expected === actual) {
                return;
            }
            if (expected === null && actual !== null) {
                diff("expected is null, actual is not", actual);
            }
            if (expected !== null && actual == null) {
                diff("actual is null when it should have been", actual);
                return;
            }
            if (typeof expected !== typeof actual) {
                diff("different types", "typeof expected " + typeof expected, "typeof actual " + typeof actual);
                return;
            }
            if (Array.isArray(expected)) {
                if (!Array.isArray(actual)) {
                    diff("expected is object, actual is not", actual);
                    return;
                }
                // both are arrays
                if (expected.length > actual.length) {
                    diff("expected is longer", "expected: " + expected.length, "actual: " + actual.length);
                    return false;
                }
                expected.forEach(function (x, x_i) {
                    compare(x, actual[x_i], query + "[" + x_i + "]");
                });
            }
            if (typeof expected === 'object') {
                for (var key in expected) {
                    if (expected.hasOwnProperty(key)) {
                        if (key === "__instanceof") {
                            if (!(actual instanceof expected[key])) {
                                diff("actual has wrong type");
                            }
                        }
                        else {
                            if (actual.hasOwnProperty(key)) {
                                compare(expected[key], actual[key], query + "[" + key + "]");
                            }
                            else {
                                diff("actual is missing key " + key);
                            }
                        }
                    }
                }
                return;
            }
            else {
                diff("different values", "Expected: ", expected, "Actual ", actual);
                return;
            }
            diff("unknown difference");
        }
        //compare(expected, actual, "this");
        if (differences.length) {
            return function () {
                differences.forEach(function (d) {
                    console.group(d.query);
                    console.error.apply(console, d.params);
                    console.groupEnd();
                });
            };
        }
        else {
            return null;
        }
    }
    function okAst(errorFunction) {
        if (errorFunction) {
            errorFunction();
            ok(false, "AST was not equal");
        }
        else {
            ok(true);
        }
    }
    function nokAst(errorFunction) {
        if (errorFunction) {
            ok(true);
        }
        else {
            errorFunction();
            ok(false, "AST was not equal");
        }
    }
    QUnit.module("AST comparison function");
    test("should work for empty objects", function () {
        okAst(compareAst({}, {}));
    });
    test("should work for single values", function () {
        okAst(compareAst({ a: 2 }, { a: 2 }));
        nokAst(compareAst({ a: 3 }, { a: 2 }));
        nokAst(compareAst({ a: 3 }, { a: "stringstuff" }));
        okAst(compareAst({ a: null }, { a: null }));
        nokAst(compareAst({ a: 2 }, { a: null }));
        nokAst(compareAst({ a: null }, { a: 2 }));
    });
    test("actual has more stuff", function () {
        okAst(compareAst({ i: "hello" }, { i: "hello", more: 2 }));
        okAst(compareAst({ i: "hello" }, { i: "hello", more: 2 }));
        nokAst(compareAst({ i: "different" }, { i: "hello", more: 2 }));
    });
    test("different values -> false", function () {
        nokAst(compareAst({ a: 2 }, { a: 3 }));
        nokAst(compareAst({ a: "hello" }, { a: null }));
    });
    test("should work for nested objects", function () {
        okAst(compareAst({ flat: 6, nested: { nested: {} } }, { flat: 6, nested: { nested: {} } }));
        nokAst(compareAst({ flat: 6, nested: { nested: { something: null } } }, { flat: 6, nested: { nested: {} } }));
    });
    test("should work for nested objects", function () {
        okAst(compareAst({ flat: 6, nested: { nested: {} } }, { flat: 6, nested: { nested: {} } }));
    });
    test("should not work for non-records", function () {
        nokAst(compareAst(null, {}));
        nokAst(compareAst({}, null));
        okAst(compareAst(null, null));
        okAst(compareAst(2, 2));
        nokAst(compareAst(3, 2));
        nokAst(compareAst(3, {}));
    });
    QUnit.module("AST");
    astTests.forEach(function (n_s_t_e) {
        var name = n_s_t_e[0];
        var start = n_s_t_e[1];
        var expression = n_s_t_e[2];
        var expected = n_s_t_e[3];
        test(name, function () {
            var actual = eiffel.parser.parse(expression, { startRule: start });
            okAst(compareAst(expected, actual));
        });
    });
    QUnit.module("AstTraversal");
    test("should return correct class name", function () {
        var ast = eiffel.parser.parse("class CLASSNAME end");
        var trav = new eiffel.AstTraversal(ast[0]);
        equal("CLASSNAME", trav.className());
    });
    QUnit.module("Analyzer");
    function analyze() {
        var sources = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            sources[_i - 0] = arguments[_i];
        }
        console.time("Parsing");
        var parsed = Array.prototype.map.call(sources, function (x, i) {
            return eiffel.parser.parse(x);
        });
        var analyzed = eiffel.semantics.analyze.apply(null, parsed);
        console.timeEnd("Parsing");
        if (analyzed.errors.errors.length > 0) {
            console.group("Analysis Failure");
            console.groupCollapsed("Sources");
            console.error(sources);
            console.groupEnd();
            console.group("Errors");
            analyzed.errors.errors.forEach(function (error) {
                console.log(error);
            });
            console.groupEnd();
            console.info("Context: ", analyzed);
            console.groupEnd();
        }
        return analyzed;
    }
    test("should pass", function () {
        analyze("class CLASSNAME end");
        ok(true);
    });
    function analyzerHasClass(analyzed, className) {
        var hasClass = analyzed.context.hasClass(className);
        if (!hasClass) {
            console.log(analyzed.context.classSymbols);
        }
        ok(hasClass, "doesn't have class " + className);
    }
    function classHasSymbol(analyzed, className, symbolName) {
        var classSymbol = analyzed.context.classWithName(className);
        var hasSymbol = classSymbol.hasSymbol(symbolName);
        var errorMessage = "Class " + className + " does not have symbol " + symbolName;
        if (!hasSymbol) {
            console.error(errorMessage);
            console.log(analyzed);
            console.log(analyzed.context.classWithName(className));
        }
        ok(hasSymbol, errorMessage);
        var symbol = classSymbol.resolveSymbol(symbolName);
        var actualName = symbol.lowerCaseName;
        equal(actualName.toLowerCase(), symbolName.toLowerCase(), "Symbol has wrong name");
        var actualLowerCaseName = symbol.lowerCaseName;
        equal(actualLowerCaseName, symbolName.toLowerCase(), "Symbol has wrong name");
    }
    test("should find symbol", function () {
        var analyzed = analyze("class CLASSNAME feature test: INTEGER end");
        classHasSymbol(analyzed, "CLASSNAME", "test");
    });
    test("Analyze two classes in one input", function () {
        var analyzed = analyze("class A feature test: INTEGER end class B end");
        analyzerHasClass(analyzed, "A");
        analyzerHasClass(analyzed, "B");
    });
    test("Analyze two classes two sources", function () {
        var analyzed = analyze("class A feature test: INTEGER end", "class B end");
        analyzerHasClass(analyzed, "A");
        analyzerHasClass(analyzed, "B");
    });
    test("Symbols exist", function () {
        var analyzed = analyze("class A feature test: STRING test2: INTEGER f3: INTEGER do end f4 do end end");
        classHasSymbol(analyzed, "A", "test");
        classHasSymbol(analyzed, "A", "test2");
        classHasSymbol(analyzed, "A", "f3");
        classHasSymbol(analyzed, "A", "f4");
        classHasSymbol(analyzed, "ANY", "Io");
    });
    test("Local variables exist", function () {
        var analyzed = analyze("class HASLOCALS feature abcd local var: INTEGER do end end");
        var local = analyzed.context.classWithName("HASLOCALS").declaredRoutines.get("abcd").localsAndParamsByName.get("var");
        equal(local.name, "var", "Local variable is not named var");
    });
    test("Symbols resolve correctly in attributes", function () {
        var analyzed = analyze("class A feature a: A end", "class B feature a: A end class C feature b: B end");
        var aSym = analyzed.context.classWithName("A");
        var bSym = analyzed.context.classWithName("B");
        var cSym = analyzed.context.classWithName("C");
        ok(aSym.resolveSymbol("a").typeInstance.baseType === aSym, "Type was not resolved");
        ok(bSym.resolveSymbol("a").typeInstance.baseType === aSym, "Type was not resolved");
        ok(cSym.resolveSymbol("b").typeInstance.baseType === bSym, "Type was not resolved");
    });
    test("Alias registers correctly", function () {
        var analyzed = analyze('class A feature b  alias "and then" (other: A): A do end end');
        ok(analyzed.context.classWithName("A").resolveSymbol("b") === analyzed.context.classWithName("A").aliases["and then"], "Alias was not registered");
        try {
            var analyzed = analyze('class A feature b  alias "and then" (other: A; other3: A): A do end end');
            ok(false, "Did not throw");
        }
        catch (e) {
            equal(e.message, "This alias requires exactly 1 parameters. b has 2", "Throws on wrong parameter count");
        }
    });
    test("Function return types resolve correctly", function () {
        var analyzed = analyze("class A feature b: A do end end");
        ok(analyzed.context.classWithName("A").resolveSymbol("b").typeInstance.baseType === analyzed.context.classWithName("A"), "Type was not resolved");
    });
    test("Local variables type resolves correctly", function () {
        var analyzed = analyze("class HASLOCALS feature abcd local var: INTEGER do end end");
        console.log("LOCAL VARS", analyzed);
        var local = analyzed.context.classWithName("HASLOCALS").declaredRoutines["abcd"].localsAndParamsByName["var"];
        ok(local.type.baseSymbol === analyzed.context.classWithName("INTEGER"), "Type was not resolved");
        equal(local.name, "var", "Local variable is not named var");
    });
}
eiffel.semantics.start(null, testAll, testAll);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIjAwX3Rlc3RfdXRpbC50cyIsIjAxX3N5bWJvbHMudHMiLCIwMl91dGlsLnRzIiwiYWxsLnRzIl0sIm5hbWVzIjpbImNoZWNrIiwidGVzdEFsbCIsInRlc3RBbGwuZmFpbCIsInRlc3RBbGwuY29tcGFyZUFzdCIsInRlc3RBbGwuY29tcGFyZUFzdC5jb21wYXJlIiwidGVzdEFsbC5jb21wYXJlQXN0LmNvbXBhcmUuZGlmZiIsInRlc3RBbGwub2tBc3QiLCJ0ZXN0QWxsLm5va0FzdCIsInRlc3RBbGwuYW5hbHl6ZSIsInRlc3RBbGwuYW5hbHl6ZXJIYXNDbGFzcyIsInRlc3RBbGwuY2xhc3NIYXNTeW1ib2wiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVMsS0FBSyxDQUFDLFNBQVMsRUFBRSxHQUFHO0lBQUVBLGFBQWFBO1NBQWJBLFdBQWFBLENBQWJBLHNCQUFhQSxDQUFiQSxJQUFhQTtRQUFiQSw0QkFBYUE7O0lBQzFDQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxTQUFTQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUNmQSxPQUFPQSxDQUFDQSxLQUFLQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtRQUNuQkEsT0FBT0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsT0FBT0EsRUFBRUEsR0FBR0EsQ0FBQ0EsQ0FBQ0E7UUFDbENBLEVBQUVBLENBQUNBLFNBQVNBLEVBQUVBLEdBQUdBLENBQUNBLENBQUNBO1FBQ25CQSxPQUFPQSxDQUFDQSxRQUFRQSxFQUFFQSxDQUFDQTtJQUNyQkEsQ0FBQ0E7SUFDREEsSUFBSUEsQ0FBQ0EsQ0FBQ0E7UUFDSkEsRUFBRUEsQ0FBQ0EsU0FBU0EsRUFBRUEsR0FBR0EsQ0FBQ0EsQ0FBQ0E7SUFDckJBLENBQUNBO0FBQ0hBLENBQUNBOztBQ1ZELDRDQUE0QztBQUM1Qyw4Q0FBOEM7QUFDOUMseUNBQXlDO0FBQ3pDLDZDQUE2QztBQUM3QywwQ0FBMEM7QUFDMUMsK0NBQStDO0FBRS9DLElBQU8sV0FBVyxHQUFHLE1BQU0sQ0FB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R0FBR0E7UUFjYkE7WUFDRUEsYUFBYUE7WUFDYkEsWUFBWUE7WUFDWkEsTUFBTUE7WUFDTkE7Z0JBQ0VBLEtBQUtBLEVBQUVBLElBQUlBO2dCQUNYQSxLQUFLQSxFQUFFQSxFQUFDQSxNQUFNQSxFQUFFQSxDQUFDQSxFQUFDQTtnQkFDbEJBLEdBQUdBLEVBQUVBLEVBQUVBO2FBQ1JBO1NBQ0ZBO1FBRURBO1lBQ0VBLGNBQWNBO1lBQ2RBLFlBQVlBO1lBQ1pBLE9BQU9BO1lBQ1BBO2dCQUNFQSxZQUFZQSxFQUFFQSxNQUFNQSxDQUFDQSxHQUFHQSxDQUFDQSxjQUFjQTtnQkFDdkNBLEtBQUtBLEVBQUVBLEtBQUtBO2dCQUNaQSxLQUFLQSxFQUFFQSxFQUFFQTtnQkFDVEEsR0FBR0EsRUFBRUEsRUFBRUEsTUFBTUEsRUFBRUEsQ0FBQ0EsRUFBQ0E7YUFDbEJBO1NBQ0ZBO1FBRURBO1lBQ0VBLFVBQVVBO1lBQ1ZBLFlBQVlBO1lBQ1pBLEdBQUdBO1lBQ0hBO2dCQUNFQSxLQUFLQSxFQUFFQSxDQUFDQTtnQkFDUkEsS0FBS0EsRUFBRUEsRUFBRUE7Z0JBQ1RBLEdBQUdBLEVBQUVBLEVBQUVBO2FBQ1JBO1NBQ0ZBO1FBQ0RBO1lBQ0VBLFlBQVlBO1lBQ1pBLFlBQVlBO1lBQ1pBLEtBQUtBO1lBQ0xBO2dCQUNFQSxLQUFLQSxFQUFFQSxHQUFHQTtnQkFDVkEsS0FBS0EsRUFBRUEsRUFBRUE7Z0JBQ1RBLEdBQUdBLEVBQUVBLEVBQUVBO2FBQ1JBO1NBQ0ZBO1FBRURBO1lBQ0VBLFdBQVdBO1lBQ1hBLFlBQVlBO1lBQ1pBLFFBQVFBO1lBQ1JBO2dCQUNFQSxLQUFLQSxFQUFFQSxNQUFNQTtnQkFDYkEsS0FBS0EsRUFBRUEsRUFBRUE7Z0JBQ1RBLEdBQUdBLEVBQUVBLEVBQUVBO2FBQ1JBO1NBQ0ZBO1FBRURBO1lBQ0VBLGFBQWFBO1lBQ2JBLFlBQVlBO1lBQ1pBLE1BQU1BO1lBQ05BO2dCQUNFQSxLQUFLQSxFQUFFQSxFQUFFQTtnQkFDVEEsR0FBR0EsRUFBRUEsRUFBRUE7YUFDUkE7U0FDRkE7UUFDREE7WUFD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T0FBTyxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsRUFBRSx1QkFBdUIsQ0FBQyxDQUFDO1FBRWpHLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxpQ0FBaUMsQ0FBQyxDQUFDO0lBQzlELENBQUMsQ0FBQ0EsQ0FBQ0E7QUFFTEEsQ0FBQ0E7QUFFRCxNQUFNLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDIiwiZmlsZSI6ImFsbC5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGNoZWNrKGNvbmRpdGlvbiwgbXNnLCAuLi5sb2c6IGFueVtdKSB7XG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgY29uc29sZS5ncm91cChtc2cpO1xuICAgIGNvbnNvbGUuZXJyb3IuYXBwbHkoY29uc29sZSwgbG9nKTtcbiAgICBvayhjb25kaXRpb24sIG1zZyk7XG4gICAgY29uc29sZS5ncm91cEVuZCgpO1xuICB9XG4gIGVsc2Uge1xuICAgIG9rKGNvbmRpdGlvbiwgbXNnKTtcbiAgfVxufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3R5cGluZ3MvdHNkLmQudHNcIiAvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3NyYy90cy9mcm9tSlMuZC50c1wiIC8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vc3JjL3RzL2FzdC50c1wiIC8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vc3JjL3RzL3N5bWJvbHMudHNcIiAvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3NyYy90cy91dGlsLnRzXCIgLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9zcmMvdHMvc2VtYW50aWNzLnRzXCIgLz5cblxuaW1wb3J0IENsYXNzU3ltYm9sID0gZWlmZmVsLnN5bWJvbHMuQ2xhc3NTeW1ib2w7XG5pbXBvcnQgVHlwZUluc3RhbmNlID0gZWlmZmVsLnN5bWJvbHMuVHlwZUluc3RhbmNlO1xuXG5RVW5pdC5tb2R1bGUoXCJUeXBlSW5zdGFuY2UgVGVzdHNcIik7XG50ZXN0KFwiZGlmZmVyZW50IEdlbmVyaWMgRGVyaXZhdGlvbiB3b3Jrc1wiLCBmdW5jdGlvbigpIHtcbiAgdmFyIGEgPSBuZXcgQ2xhc3NTeW1ib2woXCJBXCIsIG51bGwpO1xuICB2YXIgYiA9IG5ldyBDbGFzc1N5bWJvbChcIkJcIiwgbnVsbCk7XG4gIHZhciBjID0gbmV3IENsYXNzU3ltYm9sKFwiQ1wiLCBudWxsKTtcbiAgdmFyIGcxID0gbmV3IENsYXNzU3ltYm9sKFwiRzFcIiwgbnVsbCk7XG4gIHZhciBnMiA9IG5ldyBDbGFzc1N5bWJvbChcIkcyXCIsIG51bGwpO1xuXG4gIHZhciB0MV8xID0gbmV3IFR5cGVJbnN0YW5jZShhLCBbXSwgYSk7XG4gIHZhciB0MV8yID0gbmV3IFR5cGVJbnN0YW5jZShhLCBbXSwgYSk7XG5cbiAgb2sodDFfMS5lcXVhbHModDFfMikpO1xuICBvayghdDFfMS5kaWZmZXJlbnRHZW5lcmljRGVyaXZhdGlvblRoYW4odDFfMikpO1xuXG5cbiAgdmFyIHQyXzEgPSBuZXcgVHlwZUluc3RhbmNlKGcxLCBbbmV3IFR5cGVJbnN0YW5jZShhLCBbXSwgYSldLCBhKTtcbiAgdmFyIHQyXzIgPSBuZXcgVHlwZUluc3RhbmNlKGcxLCBbbmV3IFR5cGVJbnN0YW5jZShhLCBbXSwgYSldLCBhKTtcblxuICB2YXIgdDNfMSA9IG5ldyBUeXBlSW5zdGFuY2UoZzIsIFt0Ml8xLCB0MV8xXSwgYSk7XG4gIHZhciB0M18xID0gbmV3IFR5cGVJbnN0YW5jZShnMiwgW3QyXzEsIHQxXzFdLCBhKTtcblxuXG5cbn0pO1xuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3R5cGluZ3MvdHNkLmQudHNcIiAvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3NyYy90cy9mcm9tSlMuZC50c1wiIC8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vc3JjL3RzL2FzdC50c1wiIC8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vc3JjL3RzL3N5bWJvbHMudHNcIiAvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3NyYy90cy91dGlsLnRzXCIgLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9zcmMvdHMvc2VtYW50aWNzLnRzXCIgLz5cblxuaW1wb3J0IGNhc2VJZ25vcmVFcXVhbHMgPSBlaWZmZWwudXRpbC5jYXNlSWdub3JlRXF1YWxzO1xuaW1wb3J0IGNhcnRlc2lhblByb2R1Y3QgPSBlaWZmZWwudXRpbC5jYXJ0ZXNpYW5Qcm9kdWN0O1xuaW1wb3J0IHBhaXJzID0gZWlmZmVsLnV0aWwucGFpcnM7XG5cblFVbml0Lm1vZHVsZShcIlV0aWwgVGVzdHNcIik7XG5cbnRlc3QoXCJwYWlyc1wiLCBmdW5jdGlvbiAoKSB7XG4gIHZhciBwcyA9IHBhaXJzKFsxLCAyLCAzXSk7XG4gIHZhciBhY3R1YWwgPSBwcy5sZW5ndGg7XG4gIGNoZWNrKGFjdHVhbCA9PT0gMywgXCJFeHBlY3RlZCBsZW5ndGggMywgYWN0dWFsOiBcIiArIGFjdHVhbCwgcHMpO1xufSk7XG5cbnRlc3QoXCJjYXJ0ZXNpYW5cIiwgZnVuY3Rpb24gKCkge1xuICB2YXIgcHMgPSBjYXJ0ZXNpYW5Qcm9kdWN0KFsxLCAyLCAzXSk7XG4gIHZhciBhY3R1YWwgPSBwcy5sZW5ndGg7XG4gIGNoZWNrKGFjdHVhbCA9PT0gMywgXCJFeHBlY3RlZCBsZW5ndGggMywgYWN0dWFsOiBcIiArIGFjdHVhbCwgcHMpO1xuICBjaGVjayhwc1swXS5sZW5ndGggPT09IDEsIFwiRXhwZWN0ZWQgaW5uZXIgbGVuZ3RoIHRvIGJlIDEsIGFjdHVhbDogXCIgKyBwc1swXS5sZW5ndGgsIHBzWzBdKTtcbn0pO1xuXG50ZXN0KFwiY2FydGVzaWFuIHdpdGggbXVsdGlwbGUgYXJnc1wiLCBmdW5jdGlvbiAoKSB7XG4gIHZhciBwcyA9IGNhcnRlc2lhblByb2R1Y3QoWzEsIDIsIDNdLCBbMSwgMiwgM10pO1xuICB2YXIgYWN0dWFsID0gcHMubGVuZ3RoO1xuICBjaGVjayhhY3R1YWwgPT09IDMgKiAzLCBcIkV4cGVjdGVkIGxlbmd0aCA5LCBhY3R1YWw6IFwiICsgYWN0dWFsLCBwcyk7XG4gIGNoZWNrKHBzWzBdLmxlbmd0aCA9PT0gMiwgXCJFeHBlY3RlZCBpbm5lciBsZW5ndGggdG8gYmUgMiwgYWN0dWFsOiBcIiArIHBzWzBdLmxlbmd0aCwgcHNbMF0pO1xufSk7XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vdHlwaW5ncy90c2QuZC50c1wiIC8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vc3JjL3RzL2Zyb21KUy5kLnRzXCIgLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9zcmMvdHMvYXN0LnRzXCIgLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9zcmMvdHMvc3ltYm9scy50c1wiIC8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vc3JjL3RzL3V0aWwudHNcIiAvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3NyYy90cy9zZW1hbnRpY3MudHNcIiAvPlxuXG5pbnRlcmZhY2UgRXJyb3JEaWZmIHtcbiAgcXVlcnk6IHN0cmluZztcbiAgcGFyYW1zOiBhbnlbXTtcbn1cblxuZnVuY3Rpb24gdGVzdEFsbCgpIHtcbiAgZnVuY3Rpb24gZmFpbChtZXNzYWdlKSB7XG4gICAgb2soZmFsc2UsIG1lc3NhZ2UpO1xuICB9XG4gIFFVbml0Lm1vZHVsZShcIkdydW50XCIpO1xuICB0ZXN0KFwiZ2VuZXJhdGVkIGZpbGVzIGV4aXN0XCIsIGZ1bmN0aW9uKCkge1xuICAgIG9rKG9rVGVzdHMpO1xuICB9KTtcblxuXG5cbiAgUVVuaXQubW9kdWxlKFwiUGFyc2VyXCIpO1xuICB0ZXN0KFwidGhlIGJhc2UgZnVuY3Rpb24gZXhpc3RzXCIsIGZ1bmN0aW9uKCkge1xuICAgIG9rKGVpZmZlbCk7XG4gIH0pO1xuICB0ZXN0KFwicGFyc2VyIGV4aXN0c1wiLCBmdW5jdGlvbigpIHtcbiAgICBvayhlaWZmZWwucGFyc2VyKTtcbiAgfSk7XG4gIHRlc3QoXCJwYXJzZXIucGFyc2UgZXhpc3RzXCIsIGZ1bmN0aW9uKCkge1xuICAgIG9rKGVpZmZlbC5wYXJzZXIucGFyc2UpO1xuICB9KTtcblxuXG4gIFFVbml0Lm1vZHVsZShcIk9LVGVzdHNcIik7XG4gIG9rVGVzdHMuZm9yRWFjaChmdW5jdGlvbiAoZmlsZV9fY29udGVudDoge2ZpbGVuYW1lOiBzdHJpbmc7IGNvbnRlbnQ6IHN0cmluZ30pIHtcblxuICAgIHRlc3QoXCJQYXJzaW5nIFwiICsgZmlsZV9fY29udGVudC5maWxlbmFtZSwgZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICBlaWZmZWwucGFyc2VyLnBhcnNlKGZpbGVfX2NvbnRlbnQuY29udGVudCk7XG4gICAgICAgIG9rKHRydWUpO1xuICAgICAgfVxuICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgZmFpbChlLm1lc3NhZ2UgKyBcIlxcbkxpbmU6IFwiICsgZS5saW5lICsgXCJcXG5Db2x1bW46IFwiICsgZS5jb2x1bW4pO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuXG5cbiAgdmFyIGFzdFRlc3RzID0gW1xuICAgIC8qXG5cbiAgICAgW1xuICAgICBcIlRydWUgcGFyc2VzXCIsXG4gICAgIFwiRXhwcmVzc2lvblwiLFxuICAgICBcIlRydWVcIixcbiAgICAge1xuICAgICBub2RlVHlwZTogXCJsaXRlcmFsLmJvb2xcIixcbiAgICAgdmFsdWU6IHRydWUsXG4gICAgIH0sXG4gICAgIF0sXG5cbiAgICAgKi9cbiAgICBbXG4gICAgICBcIlRydWUgcGFyc2VzXCIsXG4gICAgICBcIkV4cHJlc3Npb25cIixcbiAgICAgIFwiVHJ1ZVwiLFxuICAgICAge1xuICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgc3RhcnQ6IHtvZmZzZXQ6IDB9LFxuICAgICAgICBlbmQ6IHt9LFxuICAgICAgfSxcbiAgICBdLFxuXG4gICAgW1xuICAgICAgXCJGYWxzZSBwYXJzZXNcIixcbiAgICAgIFwiRXhwcmVzc2lvblwiLFxuICAgICAgXCJGYWxzZVwiLFxuICAgICAge1xuICAgICAgICBfX2luc3RhbmNlb2Y6IGVpZmZlbC5hc3QuQm9vbGVhbkxpdGVyYWwsXG4gICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgc3RhcnQ6IHt9LFxuICAgICAgICBlbmQ6IHsgb2Zmc2V0OiA1fSxcbiAgICAgIH0sXG4gICAgXSxcblxuICAgIFtcbiAgICAgIFwiMSBwYXJzZXNcIixcbiAgICAgIFwiRXhwcmVzc2lvblwiLFxuICAgICAgXCIxXCIsXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBzdGFydDoge30sXG4gICAgICAgIGVuZDoge30sXG4gICAgICB9LFxuICAgIF0sXG4gICAgW1xuICAgICAgXCInMScgcGFyc2VzXCIsXG4gICAgICBcIkV4cHJlc3Npb25cIixcbiAgICAgIFwiJzEnXCIsXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiBcIjFcIixcbiAgICAgICAgc3RhcnQ6IHt9LFxuICAgICAgICBlbmQ6IHt9LFxuICAgICAgfSxcbiAgICBdLFxuXG4gICAgW1xuICAgICAgXCIlbiBwYXJzZXNcIixcbiAgICAgIFwiRXhwcmVzc2lvblwiLFxuICAgICAgJ1wiJW4lXCJcIicsXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAnJW4lXCInLFxuICAgICAgICBzdGFydDoge30sXG4gICAgICAgIGVuZDoge30sXG4gICAgICB9LFxuICAgIF0sXG5cbiAgICBbXG4gICAgICBcIlZvaWQgcGFyc2VzXCIsXG4gICAgICBcIkV4cHJlc3Npb25cIixcbiAgICAgICdWb2lkJyxcbiAgICAgIHtcbiAgICAgICAgc3RhcnQ6IHt9LFxuICAgICAgICBlbmQ6IHt9LFxuICAgICAgfSxcbiAgICBdLFxuICAgIFtcbiAgICAgIFwiVmVyYmF0aW0gc3RyaW5nXCIsXG4gICAgICBcIkV4cHJlc3Npb25cIixcbiAgICAgICdcIntcXG50ZXN0XFxudGVzdFxcbn1cIicsXG4gICAgICB7XG4gICAgICAgIHN0YXJ0OiB7fSxcbiAgICAgICAgZW5kOiB7fSxcbiAgICAgIH0sXG4gICAgXSxcblxuICBdO1xuXG4gIGZ1bmN0aW9uIGNvbXBhcmVBc3QoZXhwZWN0ZWQ6IGFueSwgYWN0dWFsOiBhbnkpIHtcblxuICAgIHZhciBub0RpZmZlcmVuY2VzID0gdHJ1ZTtcbiAgICB2YXIgZGlmZmVyZW5jZXM6IEVycm9yRGlmZltdID0gW107XG5cbiAgICBmdW5jdGlvbiBjb21wYXJlKGV4cGVjdGVkLCBhY3R1YWwsIHF1ZXJ5KSB7XG4gICAgICBmdW5jdGlvbiBkaWZmKC4uLnBhcmFtczogYW55W10pIHtcbiAgICAgICAgbm9EaWZmZXJlbmNlcyA9IGZhbHNlO1xuICAgICAgICBkaWZmZXJlbmNlcy5wdXNoKHtxdWVyeTogcXVlcnksIHBhcmFtczogcGFyYW1zfSk7XG4gICAgICB9XG4gICAgICBpZiAoZXhwZWN0ZWQgPT09IGFjdHVhbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChleHBlY3RlZCA9PT0gbnVsbCAmJiBhY3R1YWwgIT09IG51bGwpIHtcbiAgICAgICAgZGlmZihcImV4cGVjdGVkIGlzIG51bGwsIGFjdHVhbCBpcyBub3RcIiwgYWN0dWFsKTtcbiAgICAgIH1cbiAgICAgIGlmIChleHBlY3RlZCAhPT0gbnVsbCAmJiBhY3R1YWwgPT0gbnVsbCkge1xuICAgICAgICBkaWZmKFwiYWN0dWFsIGlzIG51bGwgd2hlbiBpdCBzaG91bGQgaGF2ZSBiZWVuXCIsIGFjdHVhbCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBleHBlY3RlZCAhPT0gdHlwZW9mIGFjdHVhbCkge1xuICAgICAgICBkaWZmKFwiZGlmZmVyZW50IHR5cGVzXCIsIFwidHlwZW9mIGV4cGVjdGVkIFwiICsgdHlwZW9mIGV4cGVjdGVkLCBcInR5cGVvZiBhY3R1YWwgXCIgKyB0eXBlb2YgYWN0dWFsKVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGV4cGVjdGVkKSkge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoYWN0dWFsKSkge1xuICAgICAgICAgIGRpZmYoXCJleHBlY3RlZCBpcyBvYmplY3QsIGFjdHVhbCBpcyBub3RcIiwgYWN0dWFsKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gYm90aCBhcmUgYXJyYXlzXG4gICAgICAgIGlmIChleHBlY3RlZC5sZW5ndGggPiBhY3R1YWwubGVuZ3RoKSB7XG4gICAgICAgICAgZGlmZihcImV4cGVjdGVkIGlzIGxvbmdlclwiLCBcImV4cGVjdGVkOiBcIiArIGV4cGVjdGVkLmxlbmd0aCwgXCJhY3R1YWw6IFwiICsgYWN0dWFsLmxlbmd0aCk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZXhwZWN0ZWQuZm9yRWFjaChmdW5jdGlvbih4LCB4X2kpIHtcbiAgICAgICAgICBjb21wYXJlKHgsIGFjdHVhbFt4X2ldLCBxdWVyeSArIFwiW1wiICsgeF9pICsgXCJdXCIpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBleHBlY3RlZCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIGV4cGVjdGVkKSB7XG4gICAgICAgICAgaWYgKGV4cGVjdGVkLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgIGlmIChrZXkgPT09IFwiX19pbnN0YW5jZW9mXCIpIHtcbiAgICAgICAgICAgICAgaWYgKCEoYWN0dWFsIGluc3RhbmNlb2YgZXhwZWN0ZWRba2V5XSkpIHtcbiAgICAgICAgICAgICAgICBkaWZmKFwiYWN0dWFsIGhhcyB3cm9uZyB0eXBlXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICBpZiAoYWN0dWFsLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICBjb21wYXJlKGV4cGVjdGVkW2tleV0sIGFjdHVhbFtrZXldLCBxdWVyeSArIFwiW1wiICsga2V5ICsgXCJdXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRpZmYoXCJhY3R1YWwgaXMgbWlzc2luZyBrZXkgXCIgKyBrZXkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZWxzZSB7XG4gICAgICAgIGRpZmYoXCJkaWZmZXJlbnQgdmFsdWVzXCIsIFwiRXhwZWN0ZWQ6IFwiLCBleHBlY3RlZCwgXCJBY3R1YWwgXCIsIGFjdHVhbCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZGlmZihcInVua25vd24gZGlmZmVyZW5jZVwiKTtcbiAgICB9XG5cbiAgICAvL2NvbXBhcmUoZXhwZWN0ZWQsIGFjdHVhbCwgXCJ0aGlzXCIpO1xuXG4gICAgaWYgKGRpZmZlcmVuY2VzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZGlmZmVyZW5jZXMuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgIGNvbnNvbGUuZ3JvdXAoZC5xdWVyeSk7XG4gICAgICAgICAgY29uc29sZS5lcnJvci5hcHBseShjb25zb2xlLCBkLnBhcmFtcyk7XG4gICAgICAgICAgY29uc29sZS5ncm91cEVuZCgpO1xuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9rQXN0KGVycm9yRnVuY3Rpb24pIHtcbiAgICBpZiAoZXJyb3JGdW5jdGlvbikge1xuICAgICAgZXJyb3JGdW5jdGlvbigpO1xuICAgICAgb2soZmFsc2UsIFwiQVNUIHdhcyBub3QgZXF1YWxcIik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgb2sodHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbm9rQXN0KGVycm9yRnVuY3Rpb24pIHtcbiAgICBpZiAoZXJyb3JGdW5jdGlvbikge1xuICAgICAgb2sodHJ1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZXJyb3JGdW5jdGlvbigpO1xuICAgICAgb2soZmFsc2UsIFwiQVNUIHdhcyBub3QgZXF1YWxcIik7XG4gICAgfVxuICB9XG5cbiAgUVVuaXQubW9kdWxlKFwiQVNUIGNvbXBhcmlzb24gZnVuY3Rpb25cIik7XG4gIHRlc3QoXCJzaG91bGQgd29yayBmb3IgZW1wdHkgb2JqZWN0c1wiLCBmdW5jdGlvbigpIHtcbiAgICBva0FzdChjb21wYXJlQXN0KHt9LCB7fSkpO1xuICB9KTtcblxuICB0ZXN0KFwic2hvdWxkIHdvcmsgZm9yIHNpbmdsZSB2YWx1ZXNcIiwgZnVuY3Rpb24oKSB7XG4gICAgb2tBc3QoY29tcGFyZUFzdCh7YTogMn0sIHthOiAyfSkpO1xuICAgIG5va0FzdChjb21wYXJlQXN0KHthOiAzfSwge2E6IDJ9KSk7XG4gICAgbm9rQXN0KGNvbXBhcmVBc3Qoe2E6IDN9LCB7YTogXCJzdHJpbmdzdHVmZlwifSkpO1xuICAgIG9rQXN0KGNvbXBhcmVBc3Qoe2E6IG51bGx9LCB7YTogbnVsbH0pKTtcbiAgICBub2tBc3QoY29tcGFyZUFzdCh7YTogMn0sIHthOiBudWxsfSkpO1xuICAgIG5va0FzdChjb21wYXJlQXN0KHthOiBudWxsfSwge2E6IDJ9KSk7XG4gIH0pO1xuXG4gIHRlc3QoXCJhY3R1YWwgaGFzIG1vcmUgc3R1ZmZcIiwgZnVuY3Rpb24oKSB7XG4gICAgb2tBc3QoY29tcGFyZUFzdCh7aTogXCJoZWxsb1wifSwge2k6IFwiaGVsbG9cIiwgbW9yZTogMn0pKTtcbiAgICBva0FzdChjb21wYXJlQXN0KHtpOiBcImhlbGxvXCJ9LCB7aTogXCJoZWxsb1wiLCBtb3JlOiAyfSkpO1xuICAgIG5va0FzdChjb21wYXJlQXN0KHtpOiBcImRpZmZlcmVudFwifSwge2k6IFwiaGVsbG9cIiwgbW9yZTogMn0pKTtcbiAgfSk7XG5cbiAgdGVzdChcImRpZmZlcmVudCB2YWx1ZXMgLT4gZmFsc2VcIiwgZnVuY3Rpb24oKSB7XG4gICAgbm9rQXN0KGNvbXBhcmVBc3Qoe2E6IDJ9LCB7YTogM30pKTtcbiAgICBub2tBc3QoY29tcGFyZUFzdCh7YTogXCJoZWxsb1wifSwge2E6IG51bGx9KSk7XG4gIH0pO1xuXG4gIHRlc3QoXCJzaG91bGQgd29yayBmb3IgbmVzdGVkIG9iamVjdHNcIiwgZnVuY3Rpb24oKSB7XG4gICAgb2tBc3QoY29tcGFyZUFzdCh7ZmxhdDogNiwgbmVzdGVkOiB7bmVzdGVkOiB7fX19LCB7ZmxhdDogNiwgbmVzdGVkOiB7bmVzdGVkOiB7fX19KSk7XG4gICAgbm9rQXN0KGNvbXBhcmVBc3Qoe2ZsYXQ6IDYsIG5lc3RlZDoge25lc3RlZDogeyBzb21ldGhpbmc6IG51bGx9fX0sIHtmbGF0OiA2LCBuZXN0ZWQ6IHtuZXN0ZWQ6IHt9fX0pKTtcbiAgfSk7XG5cbiAgdGVzdChcInNob3VsZCB3b3JrIGZvciBuZXN0ZWQgb2JqZWN0c1wiLCBmdW5jdGlvbigpIHtcbiAgICBva0FzdChjb21wYXJlQXN0KHtmbGF0OiA2LCBuZXN0ZWQ6IHtuZXN0ZWQ6IHt9fX0sIHtmbGF0OiA2LCBuZXN0ZWQ6IHtuZXN0ZWQ6IHt9fX0pKTtcbiAgfSk7XG5cbiAgdGVzdChcInNob3VsZCBub3Qgd29yayBmb3Igbm9uLXJlY29yZHNcIiwgZnVuY3Rpb24oKSB7XG4gICAgbm9rQXN0KGNvbXBhcmVBc3QobnVsbCwge30pKTtcbiAgICBub2tBc3QoY29tcGFyZUFzdCh7fSwgbnVsbCkpO1xuICAgIG9rQXN0KGNvbXBhcmVBc3QobnVsbCwgbnVsbCkpO1xuICAgIG9rQXN0KGNvbXBhcmVBc3QoMiwgMikpO1xuICAgIG5va0FzdChjb21wYXJlQXN0KDMsIDIpKTtcbiAgICBub2tBc3QoY29tcGFyZUFzdCgzLCB7fSkpO1xuICB9KTtcblxuICBRVW5pdC5tb2R1bGUoXCJBU1RcIik7XG4gIGFzdFRlc3RzLmZvckVhY2goZnVuY3Rpb24obl9zX3RfZSkge1xuICAgIHZhciBuYW1lOiBzdHJpbmcgPSA8c3RyaW5nPiBuX3NfdF9lWzBdO1xuICAgIHZhciBzdGFydCA9IG5fc190X2VbMV07XG4gICAgdmFyIGV4cHJlc3Npb24gPSBuX3NfdF9lWzJdO1xuICAgIHZhciBleHBlY3RlZCA9IG5fc190X2VbM107XG5cbiAgICB0ZXN0KG5hbWUsIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGFjdHVhbCA9IGVpZmZlbC5wYXJzZXIucGFyc2UoZXhwcmVzc2lvbiwge3N0YXJ0UnVsZTogc3RhcnR9KTtcbiAgICAgIG9rQXN0KGNvbXBhcmVBc3QoZXhwZWN0ZWQsIGFjdHVhbCkpO1xuXG4gICAgfSk7XG4gIH0pO1xuXG4gIFFVbml0Lm1vZHVsZShcIkFzdFRyYXZlcnNhbFwiKTtcbiAgdGVzdChcInNob3VsZCByZXR1cm4gY29ycmVjdCBjbGFzcyBuYW1lXCIsIGZ1bmN0aW9uKCkge1xuICAgIHZhciBhc3QgPSBlaWZmZWwucGFyc2VyLnBhcnNlKFwiY2xhc3MgQ0xBU1NOQU1FIGVuZFwiKTtcbiAgICB2YXIgdHJhdiA9IG5ldyBlaWZmZWwuQXN0VHJhdmVyc2FsKGFzdFswXSk7XG4gICAgZXF1YWwoXCJDTEFTU05BTUVcIiwgdHJhdi5jbGFzc05hbWUoKSk7XG4gIH0pO1xuXG4gIFFVbml0Lm1vZHVsZShcIkFuYWx5emVyXCIpO1xuXG4gIGZ1bmN0aW9uIGFuYWx5emUoLi4uc291cmNlczogc3RyaW5nW10pIHtcbiAgICBjb25zb2xlLnRpbWUoXCJQYXJzaW5nXCIpO1xuICAgIHZhciBwYXJzZWQgPSBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoc291cmNlcywgZnVuY3Rpb24gKHgsIGkpIHsgcmV0dXJuIGVpZmZlbC5wYXJzZXIucGFyc2UoeCl9KTtcbiAgICB2YXIgYW5hbHl6ZWQgPSBlaWZmZWwuc2VtYW50aWNzLmFuYWx5emUuYXBwbHkobnVsbCwgcGFyc2VkKTtcbiAgICBjb25zb2xlLnRpbWVFbmQoXCJQYXJzaW5nXCIpO1xuICAgIGlmIChhbmFseXplZC5lcnJvcnMuZXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnNvbGUuZ3JvdXAoXCJBbmFseXNpcyBGYWlsdXJlXCIpO1xuXG4gICAgICBjb25zb2xlLmdyb3VwQ29sbGFwc2VkKFwiU291cmNlc1wiKTtcbiAgICAgIGNvbnNvbGUuZXJyb3Ioc291cmNlcyk7XG4gICAgICBjb25zb2xlLmdyb3VwRW5kKCk7XG5cbiAgICAgIGNvbnNvbGUuZ3JvdXAoXCJFcnJvcnNcIik7XG4gICAgICBhbmFseXplZC5lcnJvcnMuZXJyb3JzLmZvckVhY2goKGVycm9yKSA9PiB7Y29uc29sZS5sb2coZXJyb3IpfSk7XG4gICAgICBjb25zb2xlLmdyb3VwRW5kKCk7XG4gICAgICBjb25zb2xlLmluZm8oXCJDb250ZXh0OiBcIiwgYW5hbHl6ZWQpO1xuICAgICAgY29uc29sZS5ncm91cEVuZCgpO1xuICAgIH1cbiAgICByZXR1cm4gYW5hbHl6ZWQ7XG4gIH1cbiAgdGVzdChcInNob3VsZCBwYXNzXCIsIGZ1bmN0aW9uICgpIHtcbiAgICBhbmFseXplKFwiY2xhc3MgQ0xBU1NOQU1FIGVuZFwiKTtcbiAgICBvayh0cnVlKTtcbiAgfSk7XG5cblxuICBmdW5jdGlvbiBhbmFseXplckhhc0NsYXNzKGFuYWx5emVkLCBjbGFzc05hbWUpIHtcbiAgICB2YXIgaGFzQ2xhc3MgPSBhbmFseXplZC5jb250ZXh0Lmhhc0NsYXNzKGNsYXNzTmFtZSk7XG4gICAgaWYgKCFoYXNDbGFzcykge1xuICAgICAgY29uc29sZS5sb2coYW5hbHl6ZWQuY29udGV4dC5jbGFzc1N5bWJvbHMpO1xuICAgIH1cbiAgICBvayhoYXNDbGFzcywgXCJkb2Vzbid0IGhhdmUgY2xhc3MgXCIgKyBjbGFzc05hbWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xhc3NIYXNTeW1ib2woYW5hbHl6ZWQsIGNsYXNzTmFtZSwgc3ltYm9sTmFtZSkge1xuICAgIHZhciBjbGFzc1N5bWJvbCA9IGFuYWx5emVkLmNvbnRleHQuY2xhc3NXaXRoTmFtZShjbGFzc05hbWUpO1xuICAgIHZhciBoYXNTeW1ib2wgPSBjbGFzc1N5bWJvbC5oYXNTeW1ib2woc3ltYm9sTmFtZSk7XG4gICAgdmFyIGVycm9yTWVzc2FnZSA9IFwiQ2xhc3MgXCIgKyBjbGFzc05hbWUgKyBcIiBkb2VzIG5vdCBoYXZlIHN5bWJvbCBcIiArIHN5bWJvbE5hbWU7XG4gICAgaWYgKCFoYXNTeW1ib2wpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgIGNvbnNvbGUubG9nKGFuYWx5emVkKTtcbiAgICAgIGNvbnNvbGUubG9nKGFuYWx5emVkLmNvbnRleHQuY2xhc3NXaXRoTmFtZShjbGFzc05hbWUpKTtcbiAgICB9XG4gICAgb2soaGFzU3ltYm9sLCBlcnJvck1lc3NhZ2UpO1xuXG4gICAgdmFyIHN5bWJvbCA9IGNsYXNzU3ltYm9sLnJlc29sdmVTeW1ib2woc3ltYm9sTmFtZSk7XG4gICAgdmFyIGFjdHVhbE5hbWUgPSBzeW1ib2wubG93ZXJDYXNlTmFtZTtcbiAgICBlcXVhbChhY3R1YWxOYW1lLnRvTG93ZXJDYXNlKCksIHN5bWJvbE5hbWUudG9Mb3dlckNhc2UoKSwgXCJTeW1ib2wgaGFzIHdyb25nIG5hbWVcIik7XG4gICAgdmFyIGFjdHVhbExvd2VyQ2FzZU5hbWUgPSBzeW1ib2wubG93ZXJDYXNlTmFtZTtcbiAgICBlcXVhbChhY3R1YWxMb3dlckNhc2VOYW1lLCBzeW1ib2xOYW1lLnRvTG93ZXJDYXNlKCksIFwiU3ltYm9sIGhhcyB3cm9uZyBuYW1lXCIpO1xuICB9XG5cbiAgdGVzdChcInNob3VsZCBmaW5kIHN5bWJvbFwiLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgYW5hbHl6ZWQgPSBhbmFseXplKFwiY2xhc3MgQ0xBU1NOQU1FIGZlYXR1cmUgdGVzdDogSU5URUdFUiBlbmRcIik7XG4gICAgY2xhc3NIYXNTeW1ib2woYW5hbHl6ZWQsIFwiQ0xBU1NOQU1FXCIsIFwidGVzdFwiKTtcbiAgfSk7XG5cblxuICB0ZXN0KFwiQW5hbHl6ZSB0d28gY2xhc3NlcyBpbiBvbmUgaW5wdXRcIiwgZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFuYWx5emVkID0gYW5hbHl6ZShcImNsYXNzIEEgZmVhdHVyZSB0ZXN0OiBJTlRFR0VSIGVuZCBjbGFzcyBCIGVuZFwiKTtcbiAgICBhbmFseXplckhhc0NsYXNzKGFuYWx5emVkLCBcIkFcIik7XG4gICAgYW5hbHl6ZXJIYXNDbGFzcyhhbmFseXplZCwgXCJCXCIpO1xuICB9KTtcblxuICB0ZXN0KFwiQW5hbHl6ZSB0d28gY2xhc3NlcyB0d28gc291cmNlc1wiLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgYW5hbHl6ZWQgPSBhbmFseXplKFwiY2xhc3MgQSBmZWF0dXJlIHRlc3Q6IElOVEVHRVIgZW5kXCIsIFwiY2xhc3MgQiBlbmRcIik7XG4gICAgYW5hbHl6ZXJIYXNDbGFzcyhhbmFseXplZCwgXCJBXCIpO1xuICAgIGFuYWx5emVySGFzQ2xhc3MoYW5hbHl6ZWQsIFwiQlwiKTtcbiAgfSk7XG5cbiAgdGVzdChcIlN5bWJvbHMgZXhpc3RcIiwgZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFuYWx5emVkID0gYW5hbHl6ZShcImNsYXNzIEEgZmVhdHVyZSB0ZXN0OiBTVFJJTkcgdGVzdDI6IElOVEVHRVIgZjM6IElOVEVHRVIgZG8gZW5kIGY0IGRvIGVuZCBlbmRcIik7XG4gICAgY2xhc3NIYXNTeW1ib2woYW5hbHl6ZWQsIFwiQVwiLCBcInRlc3RcIik7XG4gICAgY2xhc3NIYXNTeW1ib2woYW5hbHl6ZWQsIFwiQVwiLCBcInRlc3QyXCIpO1xuICAgIGNsYXNzSGFzU3ltYm9sKGFuYWx5emVkLCBcIkFcIiwgXCJmM1wiKTtcbiAgICBjbGFzc0hhc1N5bWJvbChhbmFseXplZCwgXCJBXCIsIFwiZjRcIik7XG4gICAgY2xhc3NIYXNTeW1ib2woYW5hbHl6ZWQsIFwiQU5ZXCIsIFwiSW9cIik7XG5cbiAgfSk7XG5cbiAgdGVzdChcIkxvY2FsIHZhcmlhYmxlcyBleGlzdFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFuYWx5emVkID0gYW5hbHl6ZShcImNsYXNzIEhBU0xPQ0FMUyBmZWF0dXJlIGFiY2QgbG9jYWwgdmFyOiBJTlRFR0VSIGRvIGVuZCBlbmRcIik7XG4gICAgdmFyIGxvY2FsID0gYW5hbHl6ZWQuY29udGV4dC5jbGFzc1dpdGhOYW1lKFwiSEFTTE9DQUxTXCIpLmRlY2xhcmVkUm91dGluZXMuZ2V0KFwiYWJjZFwiKS5sb2NhbHNBbmRQYXJhbXNCeU5hbWUuZ2V0KFwidmFyXCIpO1xuICAgIGVxdWFsKGxvY2FsLm5hbWUsIFwidmFyXCIsIFwiTG9jYWwgdmFyaWFibGUgaXMgbm90IG5hbWVkIHZhclwiKTtcbiAgfSk7XG5cblxuICB0ZXN0KFwiU3ltYm9scyByZXNvbHZlIGNvcnJlY3RseSBpbiBhdHRyaWJ1dGVzXCIsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYW5hbHl6ZWQgPSBhbmFseXplKFwiY2xhc3MgQSBmZWF0dXJlIGE6IEEgZW5kXCIsIFwiY2xhc3MgQiBmZWF0dXJlIGE6IEEgZW5kIGNsYXNzIEMgZmVhdHVyZSBiOiBCIGVuZFwiKTtcbiAgICB2YXIgYVN5bSA9IGFuYWx5emVkLmNvbnRleHQuY2xhc3NXaXRoTmFtZShcIkFcIik7XG4gICAgdmFyIGJTeW0gPSBhbmFseXplZC5jb250ZXh0LmNsYXNzV2l0aE5hbWUoXCJCXCIpO1xuICAgIHZhciBjU3ltID0gYW5hbHl6ZWQuY29udGV4dC5jbGFzc1dpdGhOYW1lKFwiQ1wiKTtcbiAgICBvayhhU3ltLnJlc29sdmVTeW1ib2woXCJhXCIpLnR5cGVJbnN0YW5jZS5iYXNlVHlwZSA9PT0gYVN5bSwgXCJUeXBlIHdhcyBub3QgcmVzb2x2ZWRcIik7XG4gICAgb2soYlN5bS5yZXNvbHZlU3ltYm9sKFwiYVwiKS50eXBlSW5zdGFuY2UuYmFzZVR5cGUgPT09IGFTeW0sIFwiVHlwZSB3YXMgbm90IHJlc29sdmVkXCIpO1xuICAgIG9rKGNTeW0ucmVzb2x2ZVN5bWJvbChcImJcIikudHlwZUluc3RhbmNlLmJhc2VUeXBlID09PSBiU3ltLCBcIlR5cGUgd2FzIG5vdCByZXNvbHZlZFwiKTtcbiAgfSk7XG5cblxuICB0ZXN0KFwiQWxpYXMgcmVnaXN0ZXJzIGNvcnJlY3RseVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFuYWx5emVkID0gYW5hbHl6ZSgnY2xhc3MgQSBmZWF0dXJlIGIgIGFsaWFzIFwiYW5kIHRoZW5cIiAob3RoZXI6IEEpOiBBIGRvIGVuZCBlbmQnKTtcblxuICAgIG9rKGFuYWx5emVkLmNvbnRleHQuY2xhc3NXaXRoTmFtZShcIkFcIikucmVzb2x2ZVN5bWJvbChcImJcIikgPT09IGFuYWx5emVkLmNvbnRleHQuY2xhc3NXaXRoTmFtZShcIkFcIikuYWxpYXNlc1tcImFuZCB0aGVuXCJdLCBcIkFsaWFzIHdhcyBub3QgcmVnaXN0ZXJlZFwiKTtcbiAgICB0cnl7XG4gICAgICB2YXIgYW5hbHl6ZWQgPSBhbmFseXplKCdjbGFzcyBBIGZlYXR1cmUgYiAgYWxpYXMgXCJhbmQgdGhlblwiIChvdGhlcjogQTsgb3RoZXIzOiBBKTogQSBkbyBlbmQgZW5kJyk7XG4gICAgICBvayhmYWxzZSwgXCJEaWQgbm90IHRocm93XCIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgZXF1YWwoZS5tZXNzYWdlLCBcIlRoaXMgYWxpYXMgcmVxdWlyZXMgZXhhY3RseSAxIHBhcmFtZXRlcnMuIGIgaGFzIDJcIiwgIFwiVGhyb3dzIG9uIHdyb25nIHBhcmFtZXRlciBjb3VudFwiKTtcbiAgICB9XG4gIH0pO1xuXG5cbiAgdGVzdChcIkZ1bmN0aW9uIHJldHVybiB0eXBlcyByZXNvbHZlIGNvcnJlY3RseVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFuYWx5emVkID0gYW5hbHl6ZShcImNsYXNzIEEgZmVhdHVyZSBiOiBBIGRvIGVuZCBlbmRcIik7XG4gICAgb2soYW5hbHl6ZWQuY29udGV4dC5jbGFzc1dpdGhOYW1lKFwiQVwiKS5yZXNvbHZlU3ltYm9sKFwiYlwiKS50eXBlSW5zdGFuY2UuYmFzZVR5cGUgPT09IGFuYWx5emVkLmNvbnRleHQuY2xhc3NXaXRoTmFtZShcIkFcIiksIFwiVHlwZSB3YXMgbm90IHJlc29sdmVkXCIpO1xuICB9KTtcblxuICB0ZXN0KFwiTG9jYWwgdmFyaWFibGVzIHR5cGUgcmVzb2x2ZXMgY29ycmVjdGx5XCIsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYW5hbHl6ZWQgPSBhbmFseXplKFwiY2xhc3MgSEFTTE9DQUxTIGZlYXR1cmUgYWJjZCBsb2NhbCB2YXI6IElOVEVHRVIgZG8gZW5kIGVuZFwiKTtcbiAgICBjb25zb2xlLmxvZyhcIkxPQ0FMIFZBUlNcIiwgYW5hbHl6ZWQpO1xuICAgIHZhciBsb2NhbCA9IGFuYWx5emVkLmNvbnRleHQuY2xhc3NXaXRoTmFtZShcIkhBU0xPQ0FMU1wiKS5kZWNsYXJlZFJvdXRpbmVzW1wiYWJjZFwiXS5sb2NhbHNBbmRQYXJhbXNCeU5hbWVbXCJ2YXJcIl07XG4gICAgb2sobG9jYWwudHlwZS5iYXNlU3ltYm9sID09PSBhbmFseXplZC5jb250ZXh0LmNsYXNzV2l0aE5hbWUoXCJJTlRFR0VSXCIpLCBcIlR5cGUgd2FzIG5vdCByZXNvbHZlZFwiKTtcblxuICAgIGVxdWFsKGxvY2FsLm5hbWUsIFwidmFyXCIsIFwiTG9jYWwgdmFyaWFibGUgaXMgbm90IG5hbWVkIHZhclwiKTtcbiAgfSk7XG5cbn1cblxuZWlmZmVsLnNlbWFudGljcy5zdGFydChudWxsLCB0ZXN0QWxsLCB0ZXN0QWxsKTtcblxuXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=