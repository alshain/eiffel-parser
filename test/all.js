function check(condition, msg) {
    var log = [];
    for (var _i = 2; _i < arguments.length; _i++) {
        log[_i - 2] = arguments[_i];
    }
    if (!condition) {
        console.group(msg);
        console.error.apply(console, log);
        ok(condition, msg);
        console.groupEnd();
    }
    else {
        ok(condition, msg);
    }
}

/// <reference path="../typings/tsd.d.ts" />
/// <reference path="../src/ts/fromJS.d.ts" />
/// <reference path="../src/ts/ast.ts" />
/// <reference path="../src/ts/symbols.ts" />
/// <reference path="../src/ts/util.ts" />
/// <reference path="../src/ts/semantics.ts" />
var ClassSymbol = eiffel.symbols.ClassSymbol;
var TypeInstance = eiffel.symbols.TypeInstance;
QUnit.module("TypeInstance Tests");
test("different Generic Derivation works", function () {
    var a = new ClassSymbol("A", null);
    var b = new ClassSymbol("B", null);
    var c = new ClassSymbol("C", null);
    var g1 = new ClassSymbol("G1", null);
    var g2 = new ClassSymbol("G2", null);
    var t1_1 = new TypeInstance(a, [], a);
    var t1_2 = new TypeInstance(a, [], a);
    ok(t1_1.equals(t1_2));
    ok(!t1_1.differentGenericDerivationThan(t1_2));
    var t2_1 = new TypeInstance(g1, [new TypeInstance(a, [], a)], a);
    var t2_2 = new TypeInstance(g1, [new TypeInstance(a, [], a)], a);
    var t3_1 = new TypeInstance(g2, [t2_1, t1_1], a);
    var t3_1 = new TypeInstance(g2, [t2_1, t1_1], a);
});

/// <reference path="../typings/tsd.d.ts" />
/// <reference path="../src/ts/fromJS.d.ts" />
/// <reference path="../src/ts/ast.ts" />
/// <reference path="../src/ts/symbols.ts" />
/// <reference path="../src/ts/util.ts" />
/// <reference path="../src/ts/semantics.ts" />
var caseIgnoreEquals = eiffel.util.caseIgnoreEquals;
var cartesianProduct = eiffel.util.cartesianProduct;
var pairs = eiffel.util.pairs;
QUnit.module("Util Tests");
test("pairs", function () {
    var ps = pairs([1, 2, 3]);
    var actual = ps.length;
    check(actual === 3, "Expected length 3, actual: " + actual, ps);
});
test("cartesian", function () {
    var ps = cartesianProduct([1, 2, 3]);
    var actual = ps.length;
    check(actual === 3, "Expected length 3, actual: " + actual, ps);
    check(ps[0].length === 1, "Expected inner length to be 1, actual: " + ps[0].length, ps[0]);
});
test("cartesian with multiple args", function () {
    var ps = cartesianProduct([1, 2, 3], [1, 2, 3]);
    var actual = ps.length;
    check(actual === 3 * 3, "Expected length 9, actual: " + actual, ps);
    check(ps[0].length === 2, "Expected inner length to be 2, actual: " + ps[0].length, ps[0]);
});

/// <reference path="../typings/tsd.d.ts" />
/// <reference path="../src/ts/fromJS.d.ts" />
/// <reference path="../src/ts/ast.ts" />
/// <reference path="../src/ts/symbols.ts" />
/// <reference path="../src/ts/util.ts" />
/// <reference path="../src/ts/semantics.ts" />
function fail(message) {
    ok(false, message);
}
QUnit.module("Grunt");
test("generated files exist", function () {
    ok(okTests);
});
QUnit.module("Parser");
test("the base function exists", function () {
    ok(vees);
});
test("parser exists", function () {
    ok(vees.parser);
});
test("parser.parse exists", function () {
    ok(vees.parser.parse);
});
QUnit.module("OKTests");
okTests.forEach(function (file__content) {
    test("Parsing " + file__content.filename, function () {
        try {
            vees.parser.parse(file__content.content);
            ok(true);
        }
        catch (e) {
            fail(e.message + "\nLine: " + e.line + "\nColumn: " + e.column);
        }
    });
});
var astTests = [
    [
        "True parses",
        "Expression",
        "True",
        {
            value: true,
            start: { offset: 0 },
            end: {},
        },
    ],
    [
        "False parses",
        "Expression",
        "False",
        {
            __instanceof: eiffel.ast.BooleanLiteral,
            value: false,
            start: {},
            end: { offset: 5 },
        },
    ],
    [
        "1 parses",
        "Expression",
        "1",
        {
            value: 1,
            start: {},
            end: {},
        },
    ],
    [
        "'1' parses",
        "Expression",
        "'1'",
        {
            value: "1",
            start: {},
            end: {},
        },
    ],
    [
        "%n parses",
        "Expression",
        '"%n%""',
        {
            value: '%n%"',
            start: {},
            end: {},
        },
    ],
    [
        "Void parses",
        "Expression",
        'Void',
        {
            start: {},
            end: {},
        },
    ],
    [
        "Verbatim string",
        "Expression",
        '"{test\ntest}"',
        {
            start: {},
            end: {},
        },
    ],
];
function compareAst(expected, actual) {
    var noDifferences = true;
    var differences = [];
    function compare(expected, actual, query) {
        function diff() {
            var params = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                params[_i - 0] = arguments[_i];
            }
            noDifferences = false;
            differences.push({ query: query, params: params });
        }
        if (expected === actual) {
            return;
        }
        if (expected === null && actual !== null) {
            diff("expected is null, actual is not", actual);
        }
        if (expected !== null && actual == null) {
            diff("actual is null when it should have been", actual);
            return;
        }
        if (typeof expected !== typeof actual) {
            diff("different types", "typeof expected " + typeof expected, "typeof actual " + typeof actual);
            return;
        }
        if (Array.isArray(expected)) {
            if (!Array.isArray(actual)) {
                diff("expected is object, actual is not", actual);
                return;
            }
            // both are arrays
            if (expected.length > actual.length) {
                diff("expected is longer", "expected: " + expected.length, "actual: " + actual.length);
                return false;
            }
            expected.forEach(function (x, x_i) {
                compare(x, actual[x_i], query + "[" + x_i + "]");
            });
        }
        if (typeof expected === 'object') {
            for (var key in expected) {
                if (expected.hasOwnProperty(key)) {
                    if (key === "__instanceof") {
                        if (!(actual instanceof expected[key])) {
                            diff("actual has wrong type");
                        }
                    }
                    else {
                        if (actual.hasOwnProperty(key)) {
                            compare(expected[key], actual[key], query + "[" + key + "]");
                        }
                        else {
                            diff("actual is missing key " + key);
                        }
                    }
                }
            }
            return;
        }
        else {
            diff("different values", "Expected: ", expected, "Actual ", actual);
            return;
        }
        diff("unknown difference");
    }
    compare(expected, actual, "this");
    if (differences.length) {
        return function () {
            differences.forEach(function (d) {
                console.group(d.query);
                console.error.apply(console, d.params);
                console.groupEnd();
            });
        };
    }
    else {
        return null;
    }
}
function okAst(errorFunction) {
    if (errorFunction) {
        errorFunction();
        ok(false, "AST was not equal");
    }
    else {
        ok(true);
    }
}
function nokAst(errorFunction) {
    if (errorFunction) {
        ok(true);
    }
    else {
        errorFunction();
        ok(false, "AST was not equal");
    }
}
QUnit.module("AST comparison function");
test("should work for empty objects", function () {
    okAst(compareAst({}, {}));
});
test("should work for single values", function () {
    okAst(compareAst({ a: 2 }, { a: 2 }));
    nokAst(compareAst({ a: 3 }, { a: 2 }));
    nokAst(compareAst({ a: 3 }, { a: "stringstuff" }));
    okAst(compareAst({ a: null }, { a: null }));
    nokAst(compareAst({ a: 2 }, { a: null }));
    nokAst(compareAst({ a: null }, { a: 2 }));
});
test("actual has more stuff", function () {
    okAst(compareAst({ i: "hello" }, { i: "hello", more: 2 }));
    okAst(compareAst({ i: "hello" }, { i: "hello", more: 2 }));
    nokAst(compareAst({ i: "different" }, { i: "hello", more: 2 }));
});
test("different values -> false", function () {
    nokAst(compareAst({ a: 2 }, { a: 3 }));
    nokAst(compareAst({ a: "hello" }, { a: null }));
});
test("should work for nested objects", function () {
    okAst(compareAst({ flat: 6, nested: { nested: {} } }, { flat: 6, nested: { nested: {} } }));
    nokAst(compareAst({ flat: 6, nested: { nested: { something: null } } }, { flat: 6, nested: { nested: {} } }));
});
test("should work for nested objects", function () {
    okAst(compareAst({ flat: 6, nested: { nested: {} } }, { flat: 6, nested: { nested: {} } }));
});
test("should not work for non-records", function () {
    nokAst(compareAst(null, {}));
    nokAst(compareAst({}, null));
    okAst(compareAst(null, null));
    okAst(compareAst(2, 2));
    nokAst(compareAst(3, 2));
    nokAst(compareAst(3, {}));
});
QUnit.module("AST");
astTests.forEach(function (n_s_t_e) {
    var name = n_s_t_e[0];
    var start = n_s_t_e[1];
    var expression = n_s_t_e[2];
    var expected = n_s_t_e[3];
    test(name, function () {
        var actual = vees.parser.parse(expression, { startRule: start });
        okAst(compareAst(expected, actual));
    });
});
QUnit.module("AstTraversal");
test("should return correct class name", function () {
    var ast = vees.parser.parse("class CLASSNAME end");
    var trav = new vees.AstTraversal(ast[0]);
    equal("CLASSNAME", trav.className());
});
QUnit.module("Analyzer");
function analyze() {
    var sources = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        sources[_i - 0] = arguments[_i];
    }
    console.time("Parsing");
    var parsed = Array.prototype.map.call(sources, function (x, i) {
        return vees.parser.parse(x);
    });
    var analyzed = eiffel.semantics.analyze.apply(null, parsed);
    console.timeEnd("Parsing");
    if (analyzed.errors.errors.length > 0) {
        console.group("Analysis Failure");
        console.groupCollapsed("Sources");
        console.error(sources);
        console.groupEnd();
        console.group("Errors");
        analyzed.errors.errors.forEach(function (error) {
            console.log(error);
        });
        console.groupEnd();
        console.info("Context: ", analyzed);
        console.groupEnd();
    }
    return analyzed;
}
test("should pass", function () {
    analyze("class CLASSNAME end");
    ok(true);
});
function analyzerHasClass(analyzed, className) {
    var hasClass = analyzed.context.hasClass(className);
    if (!hasClass) {
        console.log(analyzed.context.classSymbols);
    }
    ok(hasClass, "doesn't have class " + className);
}
function classHasSymbol(analyzed, className, symbolName) {
    var classSymbol = analyzed.context.classWithName(className);
    var hasSymbol = classSymbol.hasSymbol(symbolName);
    var errorMessage = "Class " + className + " does not have symbol " + symbolName;
    if (!hasSymbol) {
        console.error(errorMessage);
        console.log(analyzed);
        console.log(analyzed.context.classWithName(className));
    }
    ok(hasSymbol, errorMessage);
    var symbol = classSymbol.resolveSymbol(symbolName);
    var actualName = symbol.lowerCaseName;
    equal(actualName.toLowerCase(), symbolName.toLowerCase(), "Symbol has wrong name");
    var actualLowerCaseName = symbol.lowerCaseName;
    equal(actualLowerCaseName, symbolName.toLowerCase(), "Symbol has wrong name");
}
test("should find symbol", function () {
    var analyzed = analyze("class CLASSNAME feature test: INTEGER end");
    classHasSymbol(analyzed, "CLASSNAME", "test");
});
test("Analyze two classes in one input", function () {
    var analyzed = analyze("class A feature test: INTEGER end class B end");
    analyzerHasClass(analyzed, "A");
    analyzerHasClass(analyzed, "B");
});
test("Analyze two classes two sources", function () {
    var analyzed = analyze("class A feature test: INTEGER end", "class B end");
    analyzerHasClass(analyzed, "A");
    analyzerHasClass(analyzed, "B");
});
test("Symbols exist", function () {
    var analyzed = analyze("class A feature test: STRING test2: INTEGER f3: INTEGER do end f4 do end end");
    classHasSymbol(analyzed, "A", "test");
    classHasSymbol(analyzed, "A", "test2");
    classHasSymbol(analyzed, "A", "f3");
    classHasSymbol(analyzed, "A", "f4");
    classHasSymbol(analyzed, "ANY", "Io");
});
test("Local variables exist", function () {
    var analyzed = analyze("class HASLOCALS feature abcd local var: INTEGER do end end");
    var local = analyzed.context.classWithName("HASLOCALS").declaredRoutines.get("abcd").localsAndParamsByName.get("var");
    equal(local.name, "var", "Local variable is not named var");
});
test("Symbols resolve correctly in attributes", function () {
    var analyzed = analyze("class A feature a: A end", "class B feature a: A end class C feature b: B end");
    var aSym = analyzed.context.classWithName("A");
    var bSym = analyzed.context.classWithName("B");
    var cSym = analyzed.context.classWithName("C");
    ok(aSym.resolveSymbol("a").typeInstance.baseType === aSym, "Type was not resolved");
    ok(bSym.resolveSymbol("a").typeInstance.baseType === aSym, "Type was not resolved");
    ok(cSym.resolveSymbol("b").typeInstance.baseType === bSym, "Type was not resolved");
});
test("Alias registers correctly", function () {
    var analyzed = analyze('class A feature b  alias "and then" (other: A): A do end end');
    ok(analyzed.context.classWithName("A").resolveSymbol("b") === analyzed.context.classWithName("A").aliases["and then"], "Alias was not registered");
    try {
        var analyzed = analyze('class A feature b  alias "and then" (other: A; other3: A): A do end end');
        ok(false, "Did not throw");
    }
    catch (e) {
        equal(e.message, "This alias requires exactly 1 parameters. b has 2", "Throws on wrong parameter count");
    }
});
test("Function return types resolve correctly", function () {
    var analyzed = analyze("class A feature b: A do end end");
    ok(analyzed.context.classWithName("A").resolveSymbol("b").typeInstance.baseType === analyzed.context.classWithName("A"), "Type was not resolved");
});
test("Local variables type resolves correctly", function () {
    var analyzed = analyze("class HASLOCALS feature abcd local var: INTEGER do end end");
    console.log("LOCAL VARS", analyzed);
    var local = analyzed.context.classWithName("HASLOCALS").declaredRoutines["abcd"].localsAndParamsByName["var"];
    ok(local.type.baseSymbol === analyzed.context.classWithName("INTEGER"), "Type was not resolved");
    equal(local.name, "var", "Local variable is not named var");
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIjAwX3Rlc3RfdXRpbC50cyIsIjAxX3N5bWJvbHMudHMiLCIwMl91dGlsLnRzIiwiYWxsLnRzIl0sIm5hbWVzIjpbImNoZWNrIiwiZmFpbCIsImNvbXBhcmVBc3QiLCJjb21wYXJlQXN0LmNvbXBhcmUiLCJjb21wYXJlQXN0LmNvbXBhcmUuZGlmZiIsIm9rQXN0Iiwibm9rQXN0IiwiYW5hbHl6ZSIsImFuYWx5emVySGFzQ2xhc3MiLCJjbGFzc0hhc1N5bWJvbCJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBUyxLQUFLLENBQUMsU0FBUyxFQUFFLEdBQUc7SUFBRUEsYUFBYUE7U0FBYkEsV0FBYUEsQ0FBYkEsc0JBQWFBLENBQWJBLElBQWFBO1FBQWJBLDRCQUFhQTs7SUFDMUNBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLFNBQVNBLENBQUNBLENBQUNBLENBQUNBO1FBQ2ZBLE9BQU9BLENBQUNBLEtBQUtBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBO1FBQ25CQSxPQUFPQSxDQUFDQSxLQUFLQSxDQUFDQSxLQUFLQSxDQUFDQSxPQUFPQSxFQUFFQSxHQUFHQSxDQUFDQSxDQUFDQTtRQUNsQ0EsRUFBRUEsQ0FBQ0EsU0FBU0EsRUFBRUEsR0FBR0EsQ0FBQ0EsQ0FBQ0E7UUFDbkJBLE9BQU9BLENBQUNBLFFBQVFBLEVBQUVBLENBQUNBO0lBQ3JCQSxDQUFDQTtJQUNEQSxJQUFJQSxDQUFDQSxDQUFDQTtRQUNKQSxFQUFFQSxDQUFDQSxTQUFTQSxFQUFFQSxHQUFHQSxDQUFDQSxDQUFDQTtJQUNyQkEsQ0FBQ0E7QUFDSEEsQ0FBQ0E7O0FDVkQsNENBQTRDO0FBQzVDLDhDQUE4QztBQUM5Qyx5Q0FBeUM7QUFDekMsNkNBQTZDO0FBQzdDLDBDQUEwQztBQUMxQywrQ0FBK0M7QUFFL0MsSUFBTyxXQUFXLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUM7QUFDaEQsSUFBTyxZQUFZLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUM7QUFFbEQsS0FB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LENBQUMsR0FBRyxDQUFDLEVBQUUsdUJBQXVCLENBQUMsQ0FBQztBQUNwSixDQUFDLENBQUMsQ0FBQztBQUVILElBQUksQ0FBQyx5Q0FBeUMsRUFBRTtJQUM5QyxJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsNERBQTRELENBQUMsQ0FBQztJQUNyRixPQUFPLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBRSxRQUFRLENBQUMsQ0FBQztJQUNwQyxJQUFJLEtBQUssR0FBRyxRQUFRLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsQ0FBQyxxQkFBcUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUM5RyxFQUFFLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxVQUFVLEtBQUssUUFBUSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLEVBQUUsdUJBQXVCLENBQUMsQ0FBQztJQUVqRyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsaUNBQWlDLENBQUMsQ0FBQztBQUM5RCxDQUFDLENBQUMsQ0FBQyIsImZpbGUiOiJhbGwuanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBjaGVjayhjb25kaXRpb24sIG1zZywgLi4ubG9nOiBhbnlbXSkge1xuICBpZiAoIWNvbmRpdGlvbikge1xuICAgIGNvbnNvbGUuZ3JvdXAobXNnKTtcbiAgICBjb25zb2xlLmVycm9yLmFwcGx5KGNvbnNvbGUsIGxvZyk7XG4gICAgb2soY29uZGl0aW9uLCBtc2cpO1xuICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgfVxuICBlbHNlIHtcbiAgICBvayhjb25kaXRpb24sIG1zZyk7XG4gIH1cbn1cbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL3RzZC5kLnRzXCIgLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9zcmMvdHMvZnJvbUpTLmQudHNcIiAvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3NyYy90cy9hc3QudHNcIiAvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3NyYy90cy9zeW1ib2xzLnRzXCIgLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9zcmMvdHMvdXRpbC50c1wiIC8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vc3JjL3RzL3NlbWFudGljcy50c1wiIC8+XG5cbmltcG9ydCBDbGFzc1N5bWJvbCA9IGVpZmZlbC5zeW1ib2xzLkNsYXNzU3ltYm9sO1xuaW1wb3J0IFR5cGVJbnN0YW5jZSA9IGVpZmZlbC5zeW1ib2xzLlR5cGVJbnN0YW5jZTtcblxuUVVuaXQubW9kdWxlKFwiVHlwZUluc3RhbmNlIFRlc3RzXCIpO1xudGVzdChcImRpZmZlcmVudCBHZW5lcmljIERlcml2YXRpb24gd29ya3NcIiwgZnVuY3Rpb24oKSB7XG4gIHZhciBhID0gbmV3IENsYXNzU3ltYm9sKFwiQVwiLCBudWxsKTtcbiAgdmFyIGIgPSBuZXcgQ2xhc3NTeW1ib2woXCJCXCIsIG51bGwpO1xuICB2YXIgYyA9IG5ldyBDbGFzc1N5bWJvbChcIkNcIiwgbnVsbCk7XG4gIHZhciBnMSA9IG5ldyBDbGFzc1N5bWJvbChcIkcxXCIsIG51bGwpO1xuICB2YXIgZzIgPSBuZXcgQ2xhc3NTeW1ib2woXCJHMlwiLCBudWxsKTtcblxuICB2YXIgdDFfMSA9IG5ldyBUeXBlSW5zdGFuY2UoYSwgW10sIGEpO1xuICB2YXIgdDFfMiA9IG5ldyBUeXBlSW5zdGFuY2UoYSwgW10sIGEpO1xuXG4gIG9rKHQxXzEuZXF1YWxzKHQxXzIpKTtcbiAgb2soIXQxXzEuZGlmZmVyZW50R2VuZXJpY0Rlcml2YXRpb25UaGFuKHQxXzIpKTtcblxuXG4gIHZhciB0Ml8xID0gbmV3IFR5cGVJbnN0YW5jZShnMSwgW25ldyBUeXBlSW5zdGFuY2UoYSwgW10sIGEpXSwgYSk7XG4gIHZhciB0Ml8yID0gbmV3IFR5cGVJbnN0YW5jZShnMSwgW25ldyBUeXBlSW5zdGFuY2UoYSwgW10sIGEpXSwgYSk7XG5cbiAgdmFyIHQzXzEgPSBuZXcgVHlwZUluc3RhbmNlKGcyLCBbdDJfMSwgdDFfMV0sIGEpO1xuICB2YXIgdDNfMSA9IG5ldyBUeXBlSW5zdGFuY2UoZzIsIFt0Ml8xLCB0MV8xXSwgYSk7XG5cblxuXG59KTtcbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL3RzZC5kLnRzXCIgLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9zcmMvdHMvZnJvbUpTLmQudHNcIiAvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3NyYy90cy9hc3QudHNcIiAvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3NyYy90cy9zeW1ib2xzLnRzXCIgLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9zcmMvdHMvdXRpbC50c1wiIC8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vc3JjL3RzL3NlbWFudGljcy50c1wiIC8+XG5cbmltcG9ydCBjYXNlSWdub3JlRXF1YWxzID0gZWlmZmVsLnV0aWwuY2FzZUlnbm9yZUVxdWFscztcbmltcG9ydCBjYXJ0ZXNpYW5Qcm9kdWN0ID0gZWlmZmVsLnV0aWwuY2FydGVzaWFuUHJvZHVjdDtcbmltcG9ydCBwYWlycyA9IGVpZmZlbC51dGlsLnBhaXJzO1xuXG5RVW5pdC5tb2R1bGUoXCJVdGlsIFRlc3RzXCIpO1xuXG50ZXN0KFwicGFpcnNcIiwgZnVuY3Rpb24gKCkge1xuICB2YXIgcHMgPSBwYWlycyhbMSwgMiwgM10pO1xuICB2YXIgYWN0dWFsID0gcHMubGVuZ3RoO1xuICBjaGVjayhhY3R1YWwgPT09IDMsIFwiRXhwZWN0ZWQgbGVuZ3RoIDMsIGFjdHVhbDogXCIgKyBhY3R1YWwsIHBzKTtcbn0pO1xuXG50ZXN0KFwiY2FydGVzaWFuXCIsIGZ1bmN0aW9uICgpIHtcbiAgdmFyIHBzID0gY2FydGVzaWFuUHJvZHVjdChbMSwgMiwgM10pO1xuICB2YXIgYWN0dWFsID0gcHMubGVuZ3RoO1xuICBjaGVjayhhY3R1YWwgPT09IDMsIFwiRXhwZWN0ZWQgbGVuZ3RoIDMsIGFjdHVhbDogXCIgKyBhY3R1YWwsIHBzKTtcbiAgY2hlY2socHNbMF0ubGVuZ3RoID09PSAxLCBcIkV4cGVjdGVkIGlubmVyIGxlbmd0aCB0byBiZSAxLCBhY3R1YWw6IFwiICsgcHNbMF0ubGVuZ3RoLCBwc1swXSk7XG59KTtcblxudGVzdChcImNhcnRlc2lhbiB3aXRoIG11bHRpcGxlIGFyZ3NcIiwgZnVuY3Rpb24gKCkge1xuICB2YXIgcHMgPSBjYXJ0ZXNpYW5Qcm9kdWN0KFsxLCAyLCAzXSwgWzEsIDIsIDNdKTtcbiAgdmFyIGFjdHVhbCA9IHBzLmxlbmd0aDtcbiAgY2hlY2soYWN0dWFsID09PSAzICogMywgXCJFeHBlY3RlZCBsZW5ndGggOSwgYWN0dWFsOiBcIiArIGFjdHVhbCwgcHMpO1xuICBjaGVjayhwc1swXS5sZW5ndGggPT09IDIsIFwiRXhwZWN0ZWQgaW5uZXIgbGVuZ3RoIHRvIGJlIDIsIGFjdHVhbDogXCIgKyBwc1swXS5sZW5ndGgsIHBzWzBdKTtcbn0pO1xuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3R5cGluZ3MvdHNkLmQudHNcIiAvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3NyYy90cy9mcm9tSlMuZC50c1wiIC8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vc3JjL3RzL2FzdC50c1wiIC8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vc3JjL3RzL3N5bWJvbHMudHNcIiAvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3NyYy90cy91dGlsLnRzXCIgLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9zcmMvdHMvc2VtYW50aWNzLnRzXCIgLz5cblxuXG5cblxuZnVuY3Rpb24gZmFpbChtZXNzYWdlKSB7XG4gIG9rKGZhbHNlLCBtZXNzYWdlKTtcbn1cblFVbml0Lm1vZHVsZShcIkdydW50XCIpO1xudGVzdChcImdlbmVyYXRlZCBmaWxlcyBleGlzdFwiLCBmdW5jdGlvbigpIHtcbiAgb2sob2tUZXN0cyk7XG59KTtcblxuXG5cblFVbml0Lm1vZHVsZShcIlBhcnNlclwiKTtcbnRlc3QoXCJ0aGUgYmFzZSBmdW5jdGlvbiBleGlzdHNcIiwgZnVuY3Rpb24oKSB7XG4gIG9rKHZlZXMpO1xufSk7XG50ZXN0KFwicGFyc2VyIGV4aXN0c1wiLCBmdW5jdGlvbigpIHtcbiAgb2sodmVlcy5wYXJzZXIpO1xufSk7XG50ZXN0KFwicGFyc2VyLnBhcnNlIGV4aXN0c1wiLCBmdW5jdGlvbigpIHtcbiAgb2sodmVlcy5wYXJzZXIucGFyc2UpO1xufSk7XG5cblxuUVVuaXQubW9kdWxlKFwiT0tUZXN0c1wiKTtcbm9rVGVzdHMuZm9yRWFjaChmdW5jdGlvbiAoZmlsZV9fY29udGVudDoge2ZpbGVuYW1lOiBzdHJpbmc7IGNvbnRlbnQ6IHN0cmluZ30pIHtcblxuICB0ZXN0KFwiUGFyc2luZyBcIiArIGZpbGVfX2NvbnRlbnQuZmlsZW5hbWUsIGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICB2ZWVzLnBhcnNlci5wYXJzZShmaWxlX19jb250ZW50LmNvbnRlbnQpO1xuICAgICAgb2sodHJ1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICBmYWlsKGUubWVzc2FnZSArIFwiXFxuTGluZTogXCIgKyBlLmxpbmUgKyBcIlxcbkNvbHVtbjogXCIgKyBlLmNvbHVtbik7XG4gICAgfVxuICB9KTtcbn0pO1xuXG5cblxudmFyIGFzdFRlc3RzID0gW1xuICAvKlxuXG4gIFtcbiAgICBcIlRydWUgcGFyc2VzXCIsXG4gICAgXCJFeHByZXNzaW9uXCIsXG4gICAgXCJUcnVlXCIsXG4gICAge1xuICAgICAgbm9kZVR5cGU6IFwibGl0ZXJhbC5ib29sXCIsXG4gICAgICB2YWx1ZTogdHJ1ZSxcbiAgICB9LFxuICBdLFxuXG4gICovXG4gIFtcbiAgICBcIlRydWUgcGFyc2VzXCIsXG4gICAgXCJFeHByZXNzaW9uXCIsXG4gICAgXCJUcnVlXCIsXG4gICAge1xuICAgICAgdmFsdWU6IHRydWUsXG4gICAgICBzdGFydDoge29mZnNldDogMH0sXG4gICAgICBlbmQ6IHt9LFxuICAgIH0sXG4gIF0sXG5cbiAgW1xuICAgIFwiRmFsc2UgcGFyc2VzXCIsXG4gICAgXCJFeHByZXNzaW9uXCIsXG4gICAgXCJGYWxzZVwiLFxuICAgIHtcbiAgICAgIF9faW5zdGFuY2VvZjogZWlmZmVsLmFzdC5Cb29sZWFuTGl0ZXJhbCxcbiAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgIHN0YXJ0OiB7fSxcbiAgICAgIGVuZDogeyBvZmZzZXQ6IDV9LFxuICAgIH0sXG4gIF0sXG5cbiAgW1xuICAgIFwiMSBwYXJzZXNcIixcbiAgICBcIkV4cHJlc3Npb25cIixcbiAgICBcIjFcIixcbiAgICB7XG4gICAgICB2YWx1ZTogMSxcbiAgICAgIHN0YXJ0OiB7fSxcbiAgICAgIGVuZDoge30sXG4gICAgfSxcbiAgXSxcbiAgW1xuICAgIFwiJzEnIHBhcnNlc1wiLFxuICAgIFwiRXhwcmVzc2lvblwiLFxuICAgIFwiJzEnXCIsXG4gICAge1xuICAgICAgdmFsdWU6IFwiMVwiLFxuICAgICAgc3RhcnQ6IHt9LFxuICAgICAgZW5kOiB7fSxcbiAgICB9LFxuICBdLFxuXG4gIFtcbiAgICBcIiVuIHBhcnNlc1wiLFxuICAgIFwiRXhwcmVzc2lvblwiLFxuICAgICdcIiVuJVwiXCInLFxuICAgIHtcbiAgICAgIHZhbHVlOiAnJW4lXCInLFxuICAgICAgc3RhcnQ6IHt9LFxuICAgICAgZW5kOiB7fSxcbiAgICB9LFxuICBdLFxuXG4gIFtcbiAgICBcIlZvaWQgcGFyc2VzXCIsXG4gICAgXCJFeHByZXNzaW9uXCIsXG4gICAgJ1ZvaWQnLFxuICAgIHtcbiAgICAgIHN0YXJ0OiB7fSxcbiAgICAgIGVuZDoge30sXG4gICAgfSxcbiAgXSxcbiAgW1xuICAgIFwiVmVyYmF0aW0gc3RyaW5nXCIsXG4gICAgXCJFeHByZXNzaW9uXCIsXG4gICAgJ1wie3Rlc3RcXG50ZXN0fVwiJyxcbiAgICB7XG4gICAgICBzdGFydDoge30sXG4gICAgICBlbmQ6IHt9LFxuICAgIH0sXG4gIF0sXG5cbiBdO1xuXG5pbnRlcmZhY2UgRXJyb3JEaWZmIHtcbiAgcXVlcnk6IHN0cmluZztcbiAgcGFyYW1zOiBhbnlbXTtcbn1cblxuZnVuY3Rpb24gY29tcGFyZUFzdChleHBlY3RlZDogYW55LCBhY3R1YWw6IGFueSkge1xuXG4gIHZhciBub0RpZmZlcmVuY2VzID0gdHJ1ZTtcbiAgdmFyIGRpZmZlcmVuY2VzOiBFcnJvckRpZmZbXSA9IFtdO1xuXG4gIGZ1bmN0aW9uIGNvbXBhcmUoZXhwZWN0ZWQsIGFjdHVhbCwgcXVlcnkpIHtcbiAgICBmdW5jdGlvbiBkaWZmKC4uLnBhcmFtczogYW55W10pIHtcbiAgICAgIG5vRGlmZmVyZW5jZXMgPSBmYWxzZTtcbiAgICAgIGRpZmZlcmVuY2VzLnB1c2goe3F1ZXJ5OiBxdWVyeSwgcGFyYW1zOiBwYXJhbXN9KTtcbiAgICB9XG4gICAgaWYgKGV4cGVjdGVkID09PSBhY3R1YWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZXhwZWN0ZWQgPT09IG51bGwgJiYgYWN0dWFsICE9PSBudWxsKSB7XG4gICAgICAgIGRpZmYoXCJleHBlY3RlZCBpcyBudWxsLCBhY3R1YWwgaXMgbm90XCIsIGFjdHVhbCk7XG4gICAgfVxuICAgIGlmIChleHBlY3RlZCAhPT0gbnVsbCAmJiBhY3R1YWwgPT0gbnVsbCkge1xuICAgICAgZGlmZihcImFjdHVhbCBpcyBudWxsIHdoZW4gaXQgc2hvdWxkIGhhdmUgYmVlblwiLCBhY3R1YWwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZXhwZWN0ZWQgIT09IHR5cGVvZiBhY3R1YWwpIHtcbiAgICAgIGRpZmYoXCJkaWZmZXJlbnQgdHlwZXNcIiwgXCJ0eXBlb2YgZXhwZWN0ZWQgXCIgKyB0eXBlb2YgZXhwZWN0ZWQsIFwidHlwZW9mIGFjdHVhbCBcIiArIHR5cGVvZiBhY3R1YWwpXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZXhwZWN0ZWQpKSB7XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkoYWN0dWFsKSkge1xuICAgICAgICBkaWZmKFwiZXhwZWN0ZWQgaXMgb2JqZWN0LCBhY3R1YWwgaXMgbm90XCIsIGFjdHVhbCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIGJvdGggYXJlIGFycmF5c1xuICAgICAgaWYgKGV4cGVjdGVkLmxlbmd0aCA+IGFjdHVhbC5sZW5ndGgpIHtcbiAgICAgICAgZGlmZihcImV4cGVjdGVkIGlzIGxvbmdlclwiLCBcImV4cGVjdGVkOiBcIiArIGV4cGVjdGVkLmxlbmd0aCwgXCJhY3R1YWw6IFwiICsgYWN0dWFsLmxlbmd0aCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgZXhwZWN0ZWQuZm9yRWFjaChmdW5jdGlvbih4LCB4X2kpIHtcbiAgICAgICAgY29tcGFyZSh4LCBhY3R1YWxbeF9pXSwgcXVlcnkgKyBcIltcIiArIHhfaSArIFwiXVwiKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZXhwZWN0ZWQgPT09ICdvYmplY3QnKSB7XG4gICAgICBmb3IgKHZhciBrZXkgaW4gZXhwZWN0ZWQpIHtcbiAgICAgICAgaWYgKGV4cGVjdGVkLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICBpZiAoa2V5ID09PSBcIl9faW5zdGFuY2VvZlwiKSB7XG4gICAgICAgICAgICBpZiAoIShhY3R1YWwgaW5zdGFuY2VvZiBleHBlY3RlZFtrZXldKSkge1xuICAgICAgICAgICAgICBkaWZmKFwiYWN0dWFsIGhhcyB3cm9uZyB0eXBlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgaWYgKGFjdHVhbC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgIGNvbXBhcmUoZXhwZWN0ZWRba2V5XSwgYWN0dWFsW2tleV0sIHF1ZXJ5ICsgXCJbXCIgKyBrZXkgKyBcIl1cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgZGlmZihcImFjdHVhbCBpcyBtaXNzaW5nIGtleSBcIiArIGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZWxzZSB7XG4gICAgICBkaWZmKFwiZGlmZmVyZW50IHZhbHVlc1wiLCBcIkV4cGVjdGVkOiBcIiwgZXhwZWN0ZWQsIFwiQWN0dWFsIFwiLCBhY3R1YWwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGRpZmYoXCJ1bmtub3duIGRpZmZlcmVuY2VcIik7XG4gIH1cblxuICBjb21wYXJlKGV4cGVjdGVkLCBhY3R1YWwsIFwidGhpc1wiKTtcblxuICBpZiAoZGlmZmVyZW5jZXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGRpZmZlcmVuY2VzLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgY29uc29sZS5ncm91cChkLnF1ZXJ5KTtcbiAgICAgICAgY29uc29sZS5lcnJvci5hcHBseShjb25zb2xlLCBkLnBhcmFtcyk7XG4gICAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgICAgIH0pXG4gICAgfVxuICB9XG4gIGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIG9rQXN0KGVycm9yRnVuY3Rpb24pIHtcbiAgaWYgKGVycm9yRnVuY3Rpb24pIHtcbiAgICBlcnJvckZ1bmN0aW9uKCk7XG4gICAgb2soZmFsc2UsIFwiQVNUIHdhcyBub3QgZXF1YWxcIik7XG4gIH1cbiAgZWxzZSB7XG4gICAgb2sodHJ1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbm9rQXN0KGVycm9yRnVuY3Rpb24pIHtcbiAgaWYgKGVycm9yRnVuY3Rpb24pIHtcbiAgICBvayh0cnVlKTtcbiAgfVxuICBlbHNlIHtcbiAgICBlcnJvckZ1bmN0aW9uKCk7XG4gICAgb2soZmFsc2UsIFwiQVNUIHdhcyBub3QgZXF1YWxcIik7XG4gIH1cbn1cblxuUVVuaXQubW9kdWxlKFwiQVNUIGNvbXBhcmlzb24gZnVuY3Rpb25cIik7XG50ZXN0KFwic2hvdWxkIHdvcmsgZm9yIGVtcHR5IG9iamVjdHNcIiwgZnVuY3Rpb24oKSB7XG4gIG9rQXN0KGNvbXBhcmVBc3Qoe30sIHt9KSk7XG59KTtcblxudGVzdChcInNob3VsZCB3b3JrIGZvciBzaW5nbGUgdmFsdWVzXCIsIGZ1bmN0aW9uKCkge1xuICBva0FzdChjb21wYXJlQXN0KHthOiAyfSwge2E6IDJ9KSk7XG4gIG5va0FzdChjb21wYXJlQXN0KHthOiAzfSwge2E6IDJ9KSk7XG4gIG5va0FzdChjb21wYXJlQXN0KHthOiAzfSwge2E6IFwic3RyaW5nc3R1ZmZcIn0pKTtcbiAgb2tBc3QoY29tcGFyZUFzdCh7YTogbnVsbH0sIHthOiBudWxsfSkpO1xuICBub2tBc3QoY29tcGFyZUFzdCh7YTogMn0sIHthOiBudWxsfSkpO1xuICBub2tBc3QoY29tcGFyZUFzdCh7YTogbnVsbH0sIHthOiAyfSkpO1xufSk7XG5cbnRlc3QoXCJhY3R1YWwgaGFzIG1vcmUgc3R1ZmZcIiwgZnVuY3Rpb24oKSB7XG4gIG9rQXN0KGNvbXBhcmVBc3Qoe2k6IFwiaGVsbG9cIn0sIHtpOiBcImhlbGxvXCIsIG1vcmU6IDJ9KSk7XG4gIG9rQXN0KGNvbXBhcmVBc3Qoe2k6IFwiaGVsbG9cIn0sIHtpOiBcImhlbGxvXCIsIG1vcmU6IDJ9KSk7XG4gIG5va0FzdChjb21wYXJlQXN0KHtpOiBcImRpZmZlcmVudFwifSwge2k6IFwiaGVsbG9cIiwgbW9yZTogMn0pKTtcbn0pO1xuXG50ZXN0KFwiZGlmZmVyZW50IHZhbHVlcyAtPiBmYWxzZVwiLCBmdW5jdGlvbigpIHtcbiAgbm9rQXN0KGNvbXBhcmVBc3Qoe2E6IDJ9LCB7YTogM30pKTtcbiAgbm9rQXN0KGNvbXBhcmVBc3Qoe2E6IFwiaGVsbG9cIn0sIHthOiBudWxsfSkpO1xufSk7XG5cbnRlc3QoXCJzaG91bGQgd29yayBmb3IgbmVzdGVkIG9iamVjdHNcIiwgZnVuY3Rpb24oKSB7XG4gIG9rQXN0KGNvbXBhcmVBc3Qoe2ZsYXQ6IDYsIG5lc3RlZDoge25lc3RlZDoge319fSwge2ZsYXQ6IDYsIG5lc3RlZDoge25lc3RlZDoge319fSkpO1xuICBub2tBc3QoY29tcGFyZUFzdCh7ZmxhdDogNiwgbmVzdGVkOiB7bmVzdGVkOiB7IHNvbWV0aGluZzogbnVsbH19fSwge2ZsYXQ6IDYsIG5lc3RlZDoge25lc3RlZDoge319fSkpO1xufSk7XG5cbnRlc3QoXCJzaG91bGQgd29yayBmb3IgbmVzdGVkIG9iamVjdHNcIiwgZnVuY3Rpb24oKSB7XG4gIG9rQXN0KGNvbXBhcmVBc3Qoe2ZsYXQ6IDYsIG5lc3RlZDoge25lc3RlZDoge319fSwge2ZsYXQ6IDYsIG5lc3RlZDoge25lc3RlZDoge319fSkpO1xufSk7XG5cbnRlc3QoXCJzaG91bGQgbm90IHdvcmsgZm9yIG5vbi1yZWNvcmRzXCIsIGZ1bmN0aW9uKCkge1xuICBub2tBc3QoY29tcGFyZUFzdChudWxsLCB7fSkpO1xuICBub2tBc3QoY29tcGFyZUFzdCh7fSwgbnVsbCkpO1xuICBva0FzdChjb21wYXJlQXN0KG51bGwsIG51bGwpKTtcbiAgb2tBc3QoY29tcGFyZUFzdCgyLCAyKSk7XG4gIG5va0FzdChjb21wYXJlQXN0KDMsIDIpKTtcbiAgbm9rQXN0KGNvbXBhcmVBc3QoMywge30pKTtcbn0pO1xuXG5RVW5pdC5tb2R1bGUoXCJBU1RcIik7XG5hc3RUZXN0cy5mb3JFYWNoKGZ1bmN0aW9uKG5fc190X2UpIHtcbiAgdmFyIG5hbWU6IHN0cmluZyA9IDxzdHJpbmc+IG5fc190X2VbMF07XG4gIHZhciBzdGFydCA9IG5fc190X2VbMV07XG4gIHZhciBleHByZXNzaW9uID0gbl9zX3RfZVsyXTtcbiAgdmFyIGV4cGVjdGVkID0gbl9zX3RfZVszXTtcblxuICB0ZXN0KG5hbWUsIGZ1bmN0aW9uKCkge1xuICAgIHZhciBhY3R1YWwgPSB2ZWVzLnBhcnNlci5wYXJzZShleHByZXNzaW9uLCB7c3RhcnRSdWxlOiBzdGFydH0pO1xuICAgIG9rQXN0KGNvbXBhcmVBc3QoZXhwZWN0ZWQsIGFjdHVhbCkpO1xuXG4gIH0pO1xufSk7XG5cblFVbml0Lm1vZHVsZShcIkFzdFRyYXZlcnNhbFwiKTtcbnRlc3QoXCJzaG91bGQgcmV0dXJuIGNvcnJlY3QgY2xhc3MgbmFtZVwiLCBmdW5jdGlvbigpIHtcbiAgdmFyIGFzdCA9IHZlZXMucGFyc2VyLnBhcnNlKFwiY2xhc3MgQ0xBU1NOQU1FIGVuZFwiKTtcbiAgdmFyIHRyYXYgPSBuZXcgdmVlcy5Bc3RUcmF2ZXJzYWwoYXN0WzBdKTtcbiAgZXF1YWwoXCJDTEFTU05BTUVcIiwgdHJhdi5jbGFzc05hbWUoKSk7XG59KTtcblxuUVVuaXQubW9kdWxlKFwiQW5hbHl6ZXJcIik7XG5cbmZ1bmN0aW9uIGFuYWx5emUoLi4uc291cmNlczogc3RyaW5nW10pIHtcbiAgY29uc29sZS50aW1lKFwiUGFyc2luZ1wiKTtcbiAgdmFyIHBhcnNlZCA9IEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChzb3VyY2VzLCBmdW5jdGlvbiAoeCwgaSkgeyByZXR1cm4gdmVlcy5wYXJzZXIucGFyc2UoeCl9KTtcbiAgdmFyIGFuYWx5emVkID0gZWlmZmVsLnNlbWFudGljcy5hbmFseXplLmFwcGx5KG51bGwsIHBhcnNlZCk7XG4gIGNvbnNvbGUudGltZUVuZChcIlBhcnNpbmdcIik7XG4gIGlmIChhbmFseXplZC5lcnJvcnMuZXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICBjb25zb2xlLmdyb3VwKFwiQW5hbHlzaXMgRmFpbHVyZVwiKTtcblxuICAgICAgY29uc29sZS5ncm91cENvbGxhcHNlZChcIlNvdXJjZXNcIik7XG4gICAgICAgIGNvbnNvbGUuZXJyb3Ioc291cmNlcyk7XG4gICAgICBjb25zb2xlLmdyb3VwRW5kKCk7XG5cbiAgICAgIGNvbnNvbGUuZ3JvdXAoXCJFcnJvcnNcIik7XG4gICAgICAgIGFuYWx5emVkLmVycm9ycy5lcnJvcnMuZm9yRWFjaCgoZXJyb3IpID0+IHtjb25zb2xlLmxvZyhlcnJvcil9KTtcbiAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgICAgIGNvbnNvbGUuaW5mbyhcIkNvbnRleHQ6IFwiLCBhbmFseXplZCk7XG4gICAgY29uc29sZS5ncm91cEVuZCgpO1xuICB9XG4gIHJldHVybiBhbmFseXplZDtcbn1cbnRlc3QoXCJzaG91bGQgcGFzc1wiLCBmdW5jdGlvbiAoKSB7XG4gIGFuYWx5emUoXCJjbGFzcyBDTEFTU05BTUUgZW5kXCIpO1xuICBvayh0cnVlKTtcbn0pO1xuXG5cbmZ1bmN0aW9uIGFuYWx5emVySGFzQ2xhc3MoYW5hbHl6ZWQsIGNsYXNzTmFtZSkge1xuICB2YXIgaGFzQ2xhc3MgPSBhbmFseXplZC5jb250ZXh0Lmhhc0NsYXNzKGNsYXNzTmFtZSk7XG4gIGlmICghaGFzQ2xhc3MpIHtcbiAgICBjb25zb2xlLmxvZyhhbmFseXplZC5jb250ZXh0LmNsYXNzU3ltYm9scyk7XG4gIH1cbiAgb2soaGFzQ2xhc3MsIFwiZG9lc24ndCBoYXZlIGNsYXNzIFwiICsgY2xhc3NOYW1lKTtcbn1cblxuZnVuY3Rpb24gY2xhc3NIYXNTeW1ib2woYW5hbHl6ZWQsIGNsYXNzTmFtZSwgc3ltYm9sTmFtZSkge1xuICB2YXIgY2xhc3NTeW1ib2wgPSBhbmFseXplZC5jb250ZXh0LmNsYXNzV2l0aE5hbWUoY2xhc3NOYW1lKTtcbiAgdmFyIGhhc1N5bWJvbCA9IGNsYXNzU3ltYm9sLmhhc1N5bWJvbChzeW1ib2xOYW1lKTtcbiAgdmFyIGVycm9yTWVzc2FnZSA9IFwiQ2xhc3MgXCIgKyBjbGFzc05hbWUgKyBcIiBkb2VzIG5vdCBoYXZlIHN5bWJvbCBcIiArIHN5bWJvbE5hbWU7XG4gIGlmICghaGFzU3ltYm9sKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIGNvbnNvbGUubG9nKGFuYWx5emVkKTtcbiAgICBjb25zb2xlLmxvZyhhbmFseXplZC5jb250ZXh0LmNsYXNzV2l0aE5hbWUoY2xhc3NOYW1lKSk7XG4gIH1cbiAgb2soaGFzU3ltYm9sLCBlcnJvck1lc3NhZ2UpO1xuXG4gIHZhciBzeW1ib2wgPSBjbGFzc1N5bWJvbC5yZXNvbHZlU3ltYm9sKHN5bWJvbE5hbWUpO1xuICB2YXIgYWN0dWFsTmFtZSA9IHN5bWJvbC5sb3dlckNhc2VOYW1lO1xuICBlcXVhbChhY3R1YWxOYW1lLnRvTG93ZXJDYXNlKCksIHN5bWJvbE5hbWUudG9Mb3dlckNhc2UoKSwgXCJTeW1ib2wgaGFzIHdyb25nIG5hbWVcIik7XG4gIHZhciBhY3R1YWxMb3dlckNhc2VOYW1lID0gc3ltYm9sLmxvd2VyQ2FzZU5hbWU7XG4gIGVxdWFsKGFjdHVhbExvd2VyQ2FzZU5hbWUsIHN5bWJvbE5hbWUudG9Mb3dlckNhc2UoKSwgXCJTeW1ib2wgaGFzIHdyb25nIG5hbWVcIik7XG59XG5cbnRlc3QoXCJzaG91bGQgZmluZCBzeW1ib2xcIiwgZnVuY3Rpb24oKSB7XG4gIHZhciBhbmFseXplZCA9IGFuYWx5emUoXCJjbGFzcyBDTEFTU05BTUUgZmVhdHVyZSB0ZXN0OiBJTlRFR0VSIGVuZFwiKTtcbiAgY2xhc3NIYXNTeW1ib2woYW5hbHl6ZWQsIFwiQ0xBU1NOQU1FXCIsIFwidGVzdFwiKTtcbn0pO1xuXG5cbnRlc3QoXCJBbmFseXplIHR3byBjbGFzc2VzIGluIG9uZSBpbnB1dFwiLCBmdW5jdGlvbigpIHtcbiAgdmFyIGFuYWx5emVkID0gYW5hbHl6ZShcImNsYXNzIEEgZmVhdHVyZSB0ZXN0OiBJTlRFR0VSIGVuZCBjbGFzcyBCIGVuZFwiKTtcbiAgYW5hbHl6ZXJIYXNDbGFzcyhhbmFseXplZCwgXCJBXCIpO1xuICBhbmFseXplckhhc0NsYXNzKGFuYWx5emVkLCBcIkJcIik7XG59KTtcblxudGVzdChcIkFuYWx5emUgdHdvIGNsYXNzZXMgdHdvIHNvdXJjZXNcIiwgZnVuY3Rpb24oKSB7XG4gIHZhciBhbmFseXplZCA9IGFuYWx5emUoXCJjbGFzcyBBIGZlYXR1cmUgdGVzdDogSU5URUdFUiBlbmRcIiwgXCJjbGFzcyBCIGVuZFwiKTtcbiAgYW5hbHl6ZXJIYXNDbGFzcyhhbmFseXplZCwgXCJBXCIpO1xuICBhbmFseXplckhhc0NsYXNzKGFuYWx5emVkLCBcIkJcIik7XG59KTtcblxudGVzdChcIlN5bWJvbHMgZXhpc3RcIiwgZnVuY3Rpb24oKSB7XG4gIHZhciBhbmFseXplZCA9IGFuYWx5emUoXCJjbGFzcyBBIGZlYXR1cmUgdGVzdDogU1RSSU5HIHRlc3QyOiBJTlRFR0VSIGYzOiBJTlRFR0VSIGRvIGVuZCBmNCBkbyBlbmQgZW5kXCIpO1xuICBjbGFzc0hhc1N5bWJvbChhbmFseXplZCwgXCJBXCIsIFwidGVzdFwiKTtcbiAgY2xhc3NIYXNTeW1ib2woYW5hbHl6ZWQsIFwiQVwiLCBcInRlc3QyXCIpO1xuICBjbGFzc0hhc1N5bWJvbChhbmFseXplZCwgXCJBXCIsIFwiZjNcIik7XG4gIGNsYXNzSGFzU3ltYm9sKGFuYWx5emVkLCBcIkFcIiwgXCJmNFwiKTtcbiAgY2xhc3NIYXNTeW1ib2woYW5hbHl6ZWQsIFwiQU5ZXCIsIFwiSW9cIik7XG5cbn0pO1xuXG50ZXN0KFwiTG9jYWwgdmFyaWFibGVzIGV4aXN0XCIsIGZ1bmN0aW9uICgpIHtcbiAgdmFyIGFuYWx5emVkID0gYW5hbHl6ZShcImNsYXNzIEhBU0xPQ0FMUyBmZWF0dXJlIGFiY2QgbG9jYWwgdmFyOiBJTlRFR0VSIGRvIGVuZCBlbmRcIik7XG4gIHZhciBsb2NhbCA9IGFuYWx5emVkLmNvbnRleHQuY2xhc3NXaXRoTmFtZShcIkhBU0xPQ0FMU1wiKS5kZWNsYXJlZFJvdXRpbmVzLmdldChcImFiY2RcIikubG9jYWxzQW5kUGFyYW1zQnlOYW1lLmdldChcInZhclwiKTtcbiAgZXF1YWwobG9jYWwubmFtZSwgXCJ2YXJcIiwgXCJMb2NhbCB2YXJpYWJsZSBpcyBub3QgbmFtZWQgdmFyXCIpO1xufSk7XG5cblxudGVzdChcIlN5bWJvbHMgcmVzb2x2ZSBjb3JyZWN0bHkgaW4gYXR0cmlidXRlc1wiLCBmdW5jdGlvbiAoKSB7XG4gIHZhciBhbmFseXplZCA9IGFuYWx5emUoXCJjbGFzcyBBIGZlYXR1cmUgYTogQSBlbmRcIiwgXCJjbGFzcyBCIGZlYXR1cmUgYTogQSBlbmQgY2xhc3MgQyBmZWF0dXJlIGI6IEIgZW5kXCIpO1xuICB2YXIgYVN5bSA9IGFuYWx5emVkLmNvbnRleHQuY2xhc3NXaXRoTmFtZShcIkFcIik7XG4gIHZhciBiU3ltID0gYW5hbHl6ZWQuY29udGV4dC5jbGFzc1dpdGhOYW1lKFwiQlwiKTtcbiAgdmFyIGNTeW0gPSBhbmFseXplZC5jb250ZXh0LmNsYXNzV2l0aE5hbWUoXCJDXCIpO1xuICBvayhhU3ltLnJlc29sdmVTeW1ib2woXCJhXCIpLnR5cGVJbnN0YW5jZS5iYXNlVHlwZSA9PT0gYVN5bSwgXCJUeXBlIHdhcyBub3QgcmVzb2x2ZWRcIik7XG4gIG9rKGJTeW0ucmVzb2x2ZVN5bWJvbChcImFcIikudHlwZUluc3RhbmNlLmJhc2VUeXBlID09PSBhU3ltLCBcIlR5cGUgd2FzIG5vdCByZXNvbHZlZFwiKTtcbiAgb2soY1N5bS5yZXNvbHZlU3ltYm9sKFwiYlwiKS50eXBlSW5zdGFuY2UuYmFzZVR5cGUgPT09IGJTeW0sIFwiVHlwZSB3YXMgbm90IHJlc29sdmVkXCIpO1xufSk7XG5cblxudGVzdChcIkFsaWFzIHJlZ2lzdGVycyBjb3JyZWN0bHlcIiwgZnVuY3Rpb24gKCkge1xuICB2YXIgYW5hbHl6ZWQgPSBhbmFseXplKCdjbGFzcyBBIGZlYXR1cmUgYiAgYWxpYXMgXCJhbmQgdGhlblwiIChvdGhlcjogQSk6IEEgZG8gZW5kIGVuZCcpO1xuXG4gIG9rKGFuYWx5emVkLmNvbnRleHQuY2xhc3NXaXRoTmFtZShcIkFcIikucmVzb2x2ZVN5bWJvbChcImJcIikgPT09IGFuYWx5emVkLmNvbnRleHQuY2xhc3NXaXRoTmFtZShcIkFcIikuYWxpYXNlc1tcImFuZCB0aGVuXCJdLCBcIkFsaWFzIHdhcyBub3QgcmVnaXN0ZXJlZFwiKTtcbiAgdHJ5e1xuICAgIHZhciBhbmFseXplZCA9IGFuYWx5emUoJ2NsYXNzIEEgZmVhdHVyZSBiICBhbGlhcyBcImFuZCB0aGVuXCIgKG90aGVyOiBBOyBvdGhlcjM6IEEpOiBBIGRvIGVuZCBlbmQnKTtcbiAgICBvayhmYWxzZSwgXCJEaWQgbm90IHRocm93XCIpO1xuICB9IGNhdGNoIChlKXtcbiAgICBlcXVhbChlLm1lc3NhZ2UsIFwiVGhpcyBhbGlhcyByZXF1aXJlcyBleGFjdGx5IDEgcGFyYW1ldGVycy4gYiBoYXMgMlwiLCAgXCJUaHJvd3Mgb24gd3JvbmcgcGFyYW1ldGVyIGNvdW50XCIpO1xuICB9XG59KTtcblxuXG50ZXN0KFwiRnVuY3Rpb24gcmV0dXJuIHR5cGVzIHJlc29sdmUgY29ycmVjdGx5XCIsIGZ1bmN0aW9uICgpIHtcbiAgdmFyIGFuYWx5emVkID0gYW5hbHl6ZShcImNsYXNzIEEgZmVhdHVyZSBiOiBBIGRvIGVuZCBlbmRcIik7XG4gIG9rKGFuYWx5emVkLmNvbnRleHQuY2xhc3NXaXRoTmFtZShcIkFcIikucmVzb2x2ZVN5bWJvbChcImJcIikudHlwZUluc3RhbmNlLmJhc2VUeXBlID09PSBhbmFseXplZC5jb250ZXh0LmNsYXNzV2l0aE5hbWUoXCJBXCIpLCBcIlR5cGUgd2FzIG5vdCByZXNvbHZlZFwiKTtcbn0pO1xuXG50ZXN0KFwiTG9jYWwgdmFyaWFibGVzIHR5cGUgcmVzb2x2ZXMgY29ycmVjdGx5XCIsIGZ1bmN0aW9uICgpIHtcbiAgdmFyIGFuYWx5emVkID0gYW5hbHl6ZShcImNsYXNzIEhBU0xPQ0FMUyBmZWF0dXJlIGFiY2QgbG9jYWwgdmFyOiBJTlRFR0VSIGRvIGVuZCBlbmRcIik7XG4gIGNvbnNvbGUubG9nKFwiTE9DQUwgVkFSU1wiLCBhbmFseXplZCk7XG4gIHZhciBsb2NhbCA9IGFuYWx5emVkLmNvbnRleHQuY2xhc3NXaXRoTmFtZShcIkhBU0xPQ0FMU1wiKS5kZWNsYXJlZFJvdXRpbmVzW1wiYWJjZFwiXS5sb2NhbHNBbmRQYXJhbXNCeU5hbWVbXCJ2YXJcIl07XG4gIG9rKGxvY2FsLnR5cGUuYmFzZVN5bWJvbCA9PT0gYW5hbHl6ZWQuY29udGV4dC5jbGFzc1dpdGhOYW1lKFwiSU5URUdFUlwiKSwgXCJUeXBlIHdhcyBub3QgcmVzb2x2ZWRcIik7XG5cbiAgZXF1YWwobG9jYWwubmFtZSwgXCJ2YXJcIiwgXCJMb2NhbCB2YXJpYWJsZSBpcyBub3QgbmFtZWQgdmFyXCIpO1xufSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=